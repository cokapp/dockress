{"version":3,"sources":["scripts/app-39f7b5d6a8.js"],"names":["window","ngApp","angular","module","run","$log","debug","config","$provide","$logProvider","$translateProvider","toastrConfig","conf","SVR_URL","base","ws","value","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","lang","localStorage","preferredLanguage","useSanitizeValueStrategy","useStaticFilesLoader","prefix","suffix","useMissingTranslationHandler","$locationProvider","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","$scope","$filter","$element","CONF","dockerApiSvr","containerSvr","add","tab","tabs","push","find","containerId","isMax","num","id","label","content","start","execUrl","attachUrl","attachStart","logUrl","logStart","portBindingValidate","portBinding","intReg","test","port","hostPort","envValidate","env","name","bindValidate","bind","hostPath","path","readOnly","$stateParams","$websocket","reload","images_inspect","imageId","rsp","image","data","i","Config","ExposedPorts","exposedPort","split","addPortBinding","protocol","parseInt","undefined","Volumes","addBind","pathHost","Env","addEnv","console","log","containerCreateVo","portBindings","binds","envs","portBindingsValidate","removePortBinding","idx","splice","envsValidate","removeEnv","bindsValidate","removeBind","create","$state","ngDialog","containers_start","container","Id","stop","containers_stop","containers_inspect","statsUrl","statsQueue","onMessage","message","countStats","$","parseJSON","stats","$event","State","Status","openConsole","open","template","scope","width","closeByDocument","closeByEscape","className","$on","close","containers","remove","confirm","$location","images","isActive","match","info","progress","percent","star_count","is_official","is_trusted","is_automated","description","search","param","limit","term","filters","is-official","images_search","fromImage","images_create","directive","element","attrs","event","which","$apply","$eval","ngEnter","preventDefault","require","restrict","link","el","replaceWith","children","replace","transclude","ngModel","ngData","disabled","ngTrueValue","ngFalseValue","ngBeforeChange","ngAfterChange","html","onClick","calc","refresh","$watch","checked","logs","stdin","inited","init","Terminal","cols","rows","convertEol","useStyle","cursorBlink","screenKeys","write","onClose","destroy","send","on","stopWatch","filter","bytes","precision","rate","useSub","isNaN","parseFloat","isFinite","number","Math","floor","units","pow","toFixed","$translate","key","instant","$sce","text","trustAsHtml","factory","$rootScope","$http","utilSvr","calcCpu","overview","cpu_use","cpu_stats","cpu_usage","total_usage","precpu_stats","cpu_sys","system_cpu_usage","cpu_percent","chart","extend","CHART_PIE","title","series","y","cpu_percent_chart","calcRam","memory_percent","memory_stats","usage","memory_percent_chart","calcNet","queue","getRealSize","firstStats","first","lastStats","last","firstNet","sumNet","lastNet","ts","Date","parse","read","networks_read","networks_up_speed","networks_down_speed","networks_up","networks_down","time","xNum","speed_chart","networks_speed_chart","CHART_AREA","addNetPoint","netStats","networks","eth","tx_bytes","rx_bytes","seriesData","speed","length","x","shift","dockerUrl","svr","StatsQueue","count","cb","p","method","success","size","Queue","options","type","spacing","margin","height","backgroundColor","events","tooltip","enabled","plotOptions","animation","dataLabels","enableMouseTracking","pie","borderWidth","credits","exporting","useHTML","align","verticalAlign","innerSize","color","Highcharts","svg","legend","floating","labelFormatter","this","line","lineWidth","xAxis","yAxis","cancelEvent","returnValue","exec_start","headers","Content-Type","Detach","Tty","params","translationID","result","translationTable","getTranslationTable","regex","RegExp","exec","ds","Array","obj","getAll","getSize","$templateCache","put"],"mappings":"CAAA,WACI,YAGAA,QAAOC,MAAQC,QAAQC,OAAO,YAC1B,YACA,aACA,aACA,YACA,SACA,yBACA,cACA,WACA,gBACA,eAIJF,MAAMG,KAAA,OAAI,SAASC,GACf,UAEAA,GAAKC,MAAM,eAKnB,WACI,YAGAL,OAAMM,QAAA,WAAA,eAAA,qBAAA,eAAO,SAASC,EAAUC,EAAcC,EAAoBC,GAC9D,UAEA,IAAIC,KACJA,GAAKC,SACDC,KAAM,yBACNC,GAAI,uBAERP,EAASQ,MAAM,OAAQJ,GAGvBH,EAAaQ,cAAa,GAG1BN,EAAaO,WAAY,EACzBP,EAAaQ,QAAU,IACvBR,EAAaS,cAAgB,kBAC7BT,EAAaU,mBAAoB,EACjCV,EAAaW,aAAc,CAG3B,IAAIC,GAAOvB,OAAOwB,aAAaD,MAAQ,OAC/Bb,GAAmBe,kBAAkBF,GACrCb,EAAmBgB,yBAAyB,UAC5ChB,EAAmBiB,sBACfC,OAAQ,SACRC,OAAQ,UAGpBnB,EAAmBoB,6BAA6B,iCAOxD,WACI,YAEA7B,OAAMM,QAAA,oBAAA,iBAAA,qBAAO,SAASwB,EAAmBC,EAAgBC,GACjD,UAGAD,GACKE,MAAM,YACHC,IAAK,IACLC,YAAa,mCACbC,WAAY,iBAEfH,MAAM,SACHC,IAAK,SACLC,YAAa,qCACbC,WAAY,kBAEfH,MAAM,aACHC,IAAK,aACLC,YAAa,oCACbC,WAAY,kBAEfH,MAAM,SACHC,IAAK,SACLC,YAAa,gCACbC,WAAY,cAEfH,MAAM,aACHC,IAAK,aACLC,YAAa,yCACbC,WAAY,sBAEfH,MAAM,mBACHC,IAAK,kBACLC,YAAa,2CACbC,WAAY,wBAEfH,MAAM,mBACHC,IAAK,8BACLC,YAAa,2CACbC,WAAY,wBAGpBJ,EAAmBK,UAAU,WAMzC,WACI,YAEArC,OAAMoC,WAAW,wBAAA,SAAA,UAAA,WAAA,OAAA,eAAA,eAAwB,SAASE,EAAQC,EAASC,EAAUC,EAAMC,EAAcC,GAC7F,UAyBA,SAASC,GAAIC,GACTP,EAAOQ,KAAKC,KAAKF,GACjBL,EAASQ,KAAK,yBAAyBH,MAzB3C,GAAII,GAAcX,EAAOW,WAEzBX,GAAOY,OAAQ,EACfZ,EAAOQ,OAEP,IAAIK,GAAM,CACVb,GAAOM,IAAM,WACNN,EAAOY,QAGVN,GACIQ,GAAI,QAAUD,EACdE,MAAO,OAASF,EAChBG,QAAS,OAASH,EAClBI,OAAO,EACPC,QAASf,EAAK7B,QAAQE,GAAK,SAAWmC,EAAc,UAExDE,IACGA,GAAO,IACNb,EAAOY,OAAQ,KAUvBZ,EAAOmB,UAAYhB,EAAK7B,QAAQE,GAAK,WAAamC,EAClDX,EAAOoB,aAAc,EAErBpB,EAAOqB,OAASlB,EAAK7B,QAAQE,GAAK,QAAUmC,EAC5CX,EAAOsB,UAAW,EAGlBpB,EAASQ,KAAK,yBAAyBH,YAM/C,WACI,YAmJA,SAASgB,GAAoBC,GACzB,GAAIC,GAAS,OACb,OAAIA,GAAOC,KAAKF,EAAYG,OACxBF,EAAOC,KAAKF,EAAYI,WACjB,GAEJ,EAGX,QAASC,GAAYC,GACjB,MAAuB,mBAAZA,GAAIC,MACY,mBAAbD,GAAIrD,OACP,GAEJ,EAEX,QAASuD,GAAaC,GAClB,MAA4B,mBAAjBA,GAAKC,UACW,mBAAbD,GAAKE,MACY,iBAAjBF,GAAKG,UACR,GAEJ,EAvKX1E,MAAMoC,WAAW,uBAAA,SAAA,eAAA,WAAA,aAAA,eAAA,eAAuB,SAASE,EAAQqC,EAAcnC,EAAUoC,EAAYlC,EAAcC,GACvG,UA8FA,SAASkC,KACLnC,EAAaoC,eAAexC,EAAOyC,QAAS,SAASC,GACjD1C,EAAO2C,MAAQD,EAAIE,IAGnB,KAAI,GAAIC,KAAK7C,GAAO2C,MAAMG,OAAOC,aAAa,CAC1C,GAAIC,GAAeH,EAAEI,MAAM,IAC3BC,IACIC,SAAUH,EAAY,GACtBrB,KAAMyB,SAASJ,EAAY,IAC3BpB,SAAUyB,SAIlB,IAAI,GAAIR,KAAK7C,GAAO2C,MAAMG,OAAOQ,QAAQ,CAGrCC,GACIC,SAAUH,OACVlB,KAAMU,EACNT,UAAU,IAIlB,IAAI,GAAIS,KAAK7C,GAAO2C,MAAMG,OAAOW,IAAI,CACjC,GAAI3B,GAAM9B,EAAO2C,MAAMG,OAAOW,IAAIZ,GAAGI,MAAM,IAE3CS,IACI3B,KAAMD,EAAI,GACVrD,MAAOqD,EAAI,KAInB6B,QAAQC,IAAI5D,EAAO2C,SAK3B,QAASO,GAAeN,GACpB5C,EAAO6D,kBAAkBC,aAAarD,KAAKmC,GAE/C,QAASW,GAAQX,GACb5C,EAAO6D,kBAAkBE,MAAMtD,KAAKmC,GAExC,QAASc,GAAOd,GACZ5C,EAAO6D,kBAAkBG,KAAKvD,KAAKmC,GAzIvC,GAAIH,GAAUzC,EAAOyC,QAAUJ,EAAaI,OAE5CzC,GAAO6D,mBACHpB,QAASA,EACTqB,gBACAE,QACAD,UAGJ/D,EAAOiE,qBAAuB,WAC1B,IAAK,GAAIpB,KAAK7C,GAAO6D,kBAAkBC,aAAc,CACjD,GAAItC,GAAcxB,EAAO6D,kBAAkBC,aAAajB,EACxD,KAAKtB,EAAoBC,GACrB,OAAO,EAGf,OAAO,GAEXxB,EAAOkD,eAAiB,WACflD,EAAOiE,wBAIZf,GACIC,SAAU,MACVxB,KAAM0B,OACNzB,SAAUyB,UAIlBrD,EAAOkE,kBAAoB,SAASC,GAChCnE,EAAO6D,kBAAkBC,aAAaM,OAAOD,EAAK,IAItDnE,EAAOqE,aAAe,WAClB,IAAK,GAAIxB,KAAK7C,GAAO6D,kBAAkBG,KAAM,CACzC,GAAIlC,GAAM9B,EAAO6D,kBAAkBG,KAAKnB,EACxC,KAAKhB,EAAYC,GACb,OAAO,EAGf,OAAO,GAEX9B,EAAO0D,OAAS,WACP1D,EAAOqE,gBAIZX,GACI3B,KAAMsB,OACN5E,MAAO4E,UAGfrD,EAAOsE,UAAY,SAASH,GACxBnE,EAAO6D,kBAAkBG,KAAKI,OAAOD,EAAK,IAG9CnE,EAAOuE,cAAgB,WACnB,IAAK,GAAI1B,KAAK7C,GAAO6D,kBAAkBE,MAAO,CAC1C,GAAI9B,GAAOjC,EAAO6D,kBAAkBE,MAAMlB,EAC1C,KAAKb,EAAaC,GACd,OAAO,EAGf,OAAO,GAEXjC,EAAOuD,QAAU,WACRvD,EAAOuE,iBAIZhB,GACIC,SAAUH,OACVlB,KAAMkB,OACNjB,UAAU,KAGlBpC,EAAOwE,WAAa,SAASL,GACzBnE,EAAO6D,kBAAkBE,MAAMK,OAAOD,EAAK,IAG/CnE,EAAOyE,OAAS,WACZpE,EAAaoE,OAAOzE,EAAO6D,kBAAmB,SAASnB,GACnDiB,QAAQC,IAAIlB,MAMpBH,UAiFR,WACI,YAEA7E,OAAMoC,WAAW,uBAAA,SAAA,eAAA,SAAA,UAAA,WAAA,aAAA,WAAA,eAAA,eAAA,OAAuB,SAASE,EAAQqC,EAAcqC,EAAQzE,EAASC,EAAUoC,EAAYqC,EAAUvE,EAAcC,EAAcF,GAChJ,UAuCA,SAASc,KACLb,EAAawE,iBAAiB5E,EAAO6E,UAAUC,GAAI,SAASpC,GACxDH,MAIR,QAASwC,KACL3E,EAAa4E,gBAAgBhF,EAAO6E,UAAUC,GAAI,SAASpC,GACvDH,MAYR,QAASA,KACLnC,EAAa6E,mBAAmBjF,EAAOW,YAAa,SAAS+B,GACzD1C,EAAO6E,UAAYnC,EAAIE,OA3D/B,GAAIjC,GAAcX,EAAOW,YAAc0B,EAAavB,GAChDoE,EAAW/E,EAAK7B,QAAQE,GAAK,UAAYmC,EAEzCnC,EAAK8D,EAAW4C,GAEhBC,EAAa9B,MAEjB7E,GAAG4G,UAAU,SAASC,GAClBF,EAAa9E,EAAaiF,WAAWC,EAAEC,UAAUH,EAAQzC,MAAOuC,GAChEnF,EAAOyF,MAAQN,EAAWM,QAI9BzF,EAAAA,UAAgB,SAAS0F,GASjB,MARqC,WAAjC1F,EAAO6E,UAAUc,MAAMC,OACvBb,IAEA9D,IAGJjB,EAAO6E,UAAUc,MAAMC,OAAS,YAEzB,GAGf5F,EAAO6F,YAAc,WACjBlB,EAASmB,MACLC,SAAU,oCACVC,MAAOhG,EACPiG,MAAO,MACPC,iBAAiB,EACjBC,eAAe,EACfC,UAAW,0BAkBnBlG,EAASQ,KAAK,yBAAyBH,MAIvCgC,IAUAvC,EAAOqG,IAAI,WAAY,WACnBlB,EAAa9B,OACb7E,EAAG8H,gBAQf,WACI,YAEA5I,OAAMoC,WAAW,qBAAA,SAAA,WAAA,eAAA,eAAqB,SAASE,EAAQE,EAAUE,EAAcC,GAC3E,UA4BA,SAASY,GAAM4D,GACXzE,EAAawE,iBAAiBC,EAAUC,GAAI,SAASpC,GACjDH,MAIR,QAASwC,GAAKF,GACVzE,EAAa4E,gBAAgBH,EAAUC,GAAI,SAASpC,GAChDH,MAMR,QAASA,KACLnC,EAAamG,WAAW,SAAS7D,GAC7B1C,EAAOuG,WAAa7D,EAAIE,OA1ChCL,IAKAvC,EAAAA,UAAgB,SAAS0F,EAAQb,GAO7B,MANuB,WAAnBA,EAAUc,MACVZ,EAAKF,GAEL5D,EAAM4D,GAEVA,EAAUc,MAAQ,YACX,GAGX3F,EAAOwG,OAAS,SAAS3B,GACjB4B,QAAQ,cAGZpG,EAAamG,OAAO3B,EAAUC,GAAI,SAASpC,GACvCH,aA8BhB,WACI,YAEA7E,OAAMoC,WAAW,cAAA,SAAA,YAAc,SAASE,EAAQ0G,GAC5C,iBAOR,WACI,YAEAhJ,OAAMoC,WAAW,iBAAA,SAAA,UAAA,eAAiB,SAASE,EAAQC,EAASG,GACxD,UAIA,SAASmC,KACLnC,EAAauG,OAAO,SAASjE,GAEzB,IAAI,GAAIG,KAAKH,GAAIE,KAAK,CAClB,GAAID,GAAQD,EAAIE,KAAKC,EACrBF,GAAMmC,GAAK7E,EAAQ,WAAW0C,EAAMmC,GAAI,GAAI,GAGhD9E,EAAO2G,OAASjE,EAAIE,OAV5BL,UAkBR,WACI,YAEA7E,OAAMoC,WAAW,WAAA,SAAA,YAAW,SAASE,EAAQ0G,GACzC,UAEA1G,GAAO4G,SAAW,SAASzE,GACvB,MAAOuE,GAAUvE,OAAO0E,MAAM1E,UAO1C,WACI,YAEAzE,OAAMoC,WAAW,aAAA,SAAa,SAASE,GACnC,iBAMR,WACI,YAEAtC,OAAMoC,WAAW,gBAAA,SAAA,eAAgB,SAASE,EAAQI,GAC9C,UAEAA,GAAa0G,KAAK,SAASpE,GACvB1C,EAAO8G,KAAOpE,EAEd6C,EAAE,yBAAyBwB,UACvBC,QAAS,OAGjB5G,EAAamG,WAAW,SAAS7D,GAC7B1C,EAAOuG,WAAa7D,EAAIE,aAUpC,WACI,YAEAlF,OAAMoC,WAAW,iBAAA,SAAA,eAAiB,SAASE,EAAQI,GAC/C,UAGAJ,GAAO2G,SACHM,WAAc,EACdC,aAAe,EACfnF,KAAQ,sBACRoF,YAAc,EACdC,cAAgB,EAChBC,YAAe,oBAEfJ,WAAc,EACdC,aAAe,EACfnF,KAAQ,iBACRoF,YAAc,EACdC,cAAgB,EAChBC,YAAe,8BAInBrH,EAAOsH,OAAS,WACZ,GAAIC,IACAC,MAAO,GAEPxH,GAAOyH,KACPF,EAAME,KAAOzH,EAAOyH,KAEpBF,EAAMG,SACFC,eAAe,GAIvBvH,EAAawH,cAAcL,EAAO,SAAS7E,GACvC1C,EAAO2G,OAASjE,KAGxB1C,EAAOyE,OAAS,SAAS1C,GACxB,GAAIa,KACJA,GAAKiF,UAAY9F,EACd3B,EAAa0H,cAAclF,EAAM,SAASF,GACzCiB,QAAQC,IAAIlB,YAQzB,WACI,YAEAhF,OAAMqK,UAAU,UAAW,WACvB,UAEA,OAAO,UAAS/B,EAAOgC,EAASC,GAC5BD,EAAQ/F,KAAK,mBAAoB,SAASiG,GAClB,KAAhBA,EAAMC,QACNnC,EAAMoC,OAAO,WACTpC,EAAMqC,MAAMJ,EAAMK,WAGtBJ,EAAMK,0BAS1B,WACI,YAEA7K,OAAMqK,UAAU,iBAAkB,WAC9B,UAEA,QACIS,QAAS,YACTC,SAAU,IACVC,KAAM,SAAS1C,EAAO2C,EAAIV,GACtBU,EAAGC,YAAYD,EAAGE,mBAQlC,WACI,YAEAnL,OAAMqK,UAAU,YAAA,aAAY,SAASzF,GACjC,UAEA,QACImG,SAAU,KACVK,SAAS,EACTC,YAAY,EACZ/C,OAEIgD,QAAS,IACTC,OAAQ,IAERC,SAAU,IAEVC,YAAa,IACbC,aAAc,IAGdC,eAAgB,KAChBC,cAAe,MAEnBvD,SAAU,SAASiC,EAASC,GACxB,GAAIsB,GAAO,qJAAuJtB,EAAMe,QAAU,kCAElL,OAAOO,IAEXb,KAAM,SAAS1C,EAAOgC,EAASC,GAE3BjC,EAAMwD,QAAU,SAAS9D,GAElBM,EAAMkD,YAILlD,EAAMqD,gBACFrD,EAAMqD,eAAe3D,EAAQM,EAAMiD,WAK3CQ,IACAC,IAEG1D,EAAMsD,eACLtD,EAAMsD,cAAc5D,EAAQM,EAAMiD,UAI1CjD,EAAM2D,OAAO,UAAW,WACpBD,KAKJ,IAAID,GAAO,WAEPzD,EAAMgD,QAAUhD,EAAMgD,SAAWhD,EAAMmD,YAAcnD,EAAMoD,aAAepD,EAAMmD,aAEhFO,EAAU,WAEV1D,EAAM4D,QAAU5D,EAAMgD,SAAWhD,EAAMmD,aAAc,GAAO,EAGhEO,aAQhB,WACI,YAEAhM,OAAMqK,UAAU,UAAA,aAAU,SAASzF,GAC/B,UAEA,QACImG,SAAU,KACVzC,OACIpG,IAAK,IAELiK,KAAM,IACNC,MAAO,IACP7I,MAAO,KAEX8E,SAAU,8BACV+C,SAAS,EACTJ,KAAM,SAAS1C,EAAOgC,EAASC,GAC3B,GAAI8B,IAAS,EAETC,EAAO,WACP,GAAIvC,GAAO,GAAIwC,WACXC,KAAM,IACNC,KAAM,GACNC,YAAY,EACZC,UAAU,EACVC,aAAa,EACbC,YAAY,IAEZ/L,EAAK8D,EAAW0D,EAAMpG,IAE1BpB,GAAG4G,UAAU,SAASC,GAClBoC,EAAK+C,MAAMnF,EAAQzC,QAEvBpE,EAAGiM,QAAQ,WACPhD,EAAKiD,YAETlM,EAAGmM,KAAK,MAERlD,EAAK3B,KAAKkC,EAAQtH,KAAK,YAAY,IACnC+G,EAAKmD,GAAG,OAAQ,SAASvF,GACrB7G,EAAGmM,KAAKtF,KAGZ2C,EAAQ4C,GAAG,WAAY,WACnBnD,EAAKiD,YAGTX,GAAS,EAOb,IAJI/D,EAAM/E,OACN+I,KAGCD,EACD,GAAIc,GAAY7E,EAAM2D,OAAO,QAAS,WAC9B3D,EAAM/E,QACN+I,IACAa,eAc5B,WACI,YAEAnN,OAAMoN,OAAO,WAAY,WACrB,UAEA,OAAO,UAASC,EAAOC,EAAWC,EAAMC,GACpC,GAAIC,MAAMC,WAAWL,MAAYM,SAASN,IAAiB,GAAPA,EAAU,MAAO,GAC5C,oBAAdC,KAA2BA,EAAY,GAC9B,mBAATC,KAAsBA,EAAO,MAClB,mBAAXC,KAAwBA,GAAS,EAE5C,IAAII,GAASC,KAAKC,MAAMD,KAAK3H,IAAImH,GAASQ,KAAK3H,IAAIqH,IAC/CQ,GAAS,QAAS,KAAM,KAAM,KAAM,KAAM,KAI9C,OAHGP,KACCO,GAAS,mBAAoB,gBAAiB,gBAAiB,gBAAiB,gBAAiB,mBAE7FV,EAAQQ,KAAKG,IAAIT,EAAMM,KAAKC,MAAMF,KAAUK,QAAQX,GAAa,IAAMS,EAAMH,SAOjG,WACI,YAEA5N,OAAMoN,OAAO,KAAA,aAAK,SAASc,GACvB,UAEA,OAAO,UAASC,GACZ,MAAIA,GACOD,EAAWE,QAAQD,GAAOA,EADrC,cASZ,WACI,YAEAnO,OAAMoN,OAAO,aAAA,OAAa,SAASiB,GAC/B,UAEA,OAAO,UAASC,GACZ,MAAOD,GAAKE,YAAYD,UAOpC,WACI,YAEAtO,OAAMwO,QAAQ,gBAAA,aAAA,QAAA,OAAA,UAAA,UAAgB,SAASC,EAAYC,EAAOjM,EAAMkM,EAASpM,GACrE,UAoEA,SAASqM,GAAQ7G,GACb,GAAI8G,GAAW9G,EAAM8G,QAErBA,GAASC,QAAU/G,EAAMgH,UAAUC,UAAUC,YAAclH,EAAMmH,aAAaF,UAAUC,YACxFJ,EAASM,QAAUpH,EAAMgH,UAAUK,iBAAmBrH,EAAMmH,aAAaE,iBACzEP,EAASQ,YAAc,IAAMR,EAASC,QAAUD,EAASM,OAGzD,IAAIG,GAAQzH,EAAE0H,QAAO,KAAUC,EAC/BF,GAAMG,MAAMnB,KAAO,oCAAsC/L,EAAQ,UAAUsM,EAASQ,YAAa,GAAK,4CACtGC,EAAMI,OAAO,GAAGxK,KAAK,GAAGyK,EAAId,EAASC,QACrCQ,EAAMI,OAAO,GAAGxK,KAAK,GAAGyK,EAAId,EAASM,QAAUN,EAASC,QAExDD,EAASe,kBAAoBN,EAGjC,QAASO,GAAQ9H,GACb,GAAI8G,GAAW9G,EAAM8G,QAErBA,GAASiB,eAAiB,IAAM/H,EAAMgI,aAAaC,MAAQjI,EAAMgI,aAAajG,KAG9E,IAAIwF,GAAQzH,EAAE0H,QAAO,KAAUC,EAC/BF,GAAMG,MAAMnB,KAAO,oCAAsC/L,EAAQ,YAAYwF,EAAMgI,aAAaC,MAAO,EAAG,KAAM,GAAQ,8BACxHV,EAAMI,OAAO,GAAGxK,KAAK,GAAGyK,EAAI5H,EAAMgI,aAAaC,MAC/CV,EAAMI,OAAO,GAAGxK,KAAK,GAAGyK,EAAI5H,EAAMgI,aAAajG,MAAQ/B,EAAMgI,aAAaC,MAE1EnB,EAASoB,qBAAuBX,EAGpC,QAASY,GAAQnI,EAAOoI,GACpB,KAAIA,EAAMC,eAAiB,GAA3B,CAIA,GAAIvB,GAAW9G,EAAM8G,SAEjBwB,EAAaxI,EAAE0H,QAAO,KAAUY,EAAMG,SACtCC,EAAY1I,EAAE0H,QAAO,KAAUY,EAAMK,QAErCC,EAAWC,EAAOL,GAClBM,EAAUD,EAAOH,GAEjBK,EAAKC,KAAKC,MAAMP,EAAUQ,MAAQF,KAAKC,MAAMT,EAAWU,KAC5DlC,GAASmC,cAAgBT,EAAUQ,KACnClC,EAASoC,kBAAoB,KAAQN,EAAQ,GAAKF,EAAS,IAAMG,EACjE/B,EAASqC,oBAAsB,KAAQP,EAAQ,GAAKF,EAAS,IAAMG,EACnE/B,EAASsC,YAAcR,EAAQ,GAC/B9B,EAASuC,cAAgBT,EAAQ,EAGjC,IAAIU,GAAOR,KAAKC,MAAMjC,EAASmC,eAC3BM,EAAO,EAEPC,EAAc1J,EAAE0H,QAAO,EAAMY,EAAMpI,MAAM8G,SAAS2C,qBAAsBC,EAC5EC,GAAYH,EAAY7B,OAAO,GAAGxK,KAAMoM,EAAMD,EAAMxC,EAASoC,mBAC7DS,EAAYH,EAAY7B,OAAO,GAAGxK,KAAMoM,EAAMD,EAAMxC,EAASqC,qBAE7DrC,EAAS2C,qBAAuBD,GAGpC,QAASb,GAAO3I,GACZ,GAAI4J,IAAY,EAAG,EACnB,KAAK,GAAIxM,KAAK4C,GAAM6J,SAAU,CAC1B,GAAIC,GAAM9J,EAAM6J,SAASzM,EACzBwM,GAAS,IAAME,EAAIC,SACnBH,EAAS,IAAME,EAAIE,SAEvB,MAAOJ,GAGX,QAASD,GAAYM,EAAY7O,EAAKkO,EAAMY,GAExC,KAAOD,EAAWE,OAAS/O,GACvB6O,EAAWjP,MACPoP,EAAGd,EAAmC,KAA3BlO,EAAM6O,EAAWE,QAC5BvC,EAAG,GAIPqC,GAAWE,QAAU/O,GACrB6O,EAAWI,QAEfJ,EAAWjP,MACPoP,EAAGd,EACH1B,EAAGsC,IAvJX,GAAII,GAAY5P,EAAK7B,QAAQC,KAEzByR,IAEJA,GAAI1K,WAAa,SAASG,EAAOoI,GAK7B,MAJqB,mBAAVA,KACPA,EAAQoC,EAAWxL,OAAO,IAE9BoJ,EAAMvN,IAAImF,GACHoI,EAAMqC,SAGjBF,EAAIvL,OAAS,SAASZ,EAAmBsM,GACrC,GAAIvQ,GAAMmQ,EAAY,qBAClBK,EAAIhE,GACJiE,OAAQ,OACRzQ,IAAKA,EACLgD,KAAMiB,GAEVuM,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAGXsN,EAAIxJ,OAAS,SAAS7F,EAAawP,GAC/B,GAAIvQ,GAAMmQ,EAAY,eAAiBpP,EAAc,UACjDyP,EAAIhE,GACJiE,OAAQ,MACRzQ,IAAKA,GAETwQ,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,KAWX,IAAIuN,IACAxL,OAAQ,SAAS8L,GACb,GAAI1C,GAAQxB,EAAQmE,MAAM/L,OAAO8L,EAkBjC,OAhBA1C,GAAMqC,MAAQ,WACVrC,EAAMpI,MAAQoI,EAAMpI,QAChB8G,YAEJ,IAAI9G,GAAQF,EAAE0H,QAAO,EAAMY,EAAMpI,MAAOoI,EAAMK,OAS9C,OANA5B,GAAQ7G,GAER8H,EAAQ9H,GAERmI,EAAQnI,EAAOoI,GAERA,GAGJA,IA8FXX,GACAuD,SACIzD,OACI0D,KAAM,MACNC,SAAU,EAAG,EAAG,EAAG,GACnBC,QAAS,EAAG,EAAG,EAAG,GAClBC,OAAQ,IACRC,gBAAiB,cACjBC,WAEJC,SACIC,SAAS,GAEbC,aACI9D,QACI+D,WAAW,EACXC,YACIH,SAAS,GAEbI,qBAAqB,GAEzBC,KACIC,YAAa,IAGrBC,SACIP,SAAS,GAEbQ,WACIR,SAAS,IAGjB9D,OACIuE,SAAS,EACT1F,KAAM,GACN2F,MAAO,SACPC,cAAe,UAEnBxE,SACIsD,KAAM,MACN3O,KAAM,QACN8P,UAAW,MACXjP,OACIb,KAAM,QACNsL,EAAG,EACHyE,MAAO,YAEP/P,KAAM,QACNsL,EAAG,EACHyE,MAAO,YAIf3C,GACAsB,SACIzD,OACI0D,KAAM,OACNS,UAAWY,WAAWC,IACtBnB,OAAQ,IACRC,gBAAiB,cACjBC,WAEJ5D,OACInB,KAAM,MAEViG,QACIC,UAAU,EACVP,MAAO,QACPC,cAAe,MACfO,eAAgB,WACZ,MAAOC,MAAKrQ,OAGpBiP,SACIC,SAAS,GAEbC,aACI9D,QACI+D,WAAW,EACXC,YACIH,SAAS,GAEbI,qBAAqB,GAEzBgB,MACIC,UAAW,IAGnBd,SACIP,SAAS,GAEbQ,WACIR,SAAS,IAGjBsB,OACI7B,KAAM,YAEV8B,OACIrF,OACInB,KAAM,SAGdoB,SACIrL,KAAM,KACNa,UAEAb,KAAM,KACNa,UAIR,OAAOoN,SAKf,WACI,YAEAtS,OAAMwO,QAAQ,gBAAA,aAAA,QAAA,OAAgB,SAASC,EAAYC,EAAOjM,GACtD,UAEA,IAAI4P,GAAY5P,EAAK7B,QAAQC,IAE7B4N,GAAWsG,YAAc,SAASvK,GAC9BvE,QAAQC,IAAI,cACZ,IAAIsE,GAAQA,GAASzK,OAAOyK,KAG5B,OAFIA,GAAMK,gBAAgBL,EAAMK,iBAC5BL,EAAMwK,cAAaxK,EAAMwK,aAAc,IACpC,EAIX,IAAI1C,KAqHJ,OAnHAA,GAAIlJ,KAAO,SAASqJ,GAChB,GAAIvQ,GAAMmQ,EAAY,QAClBK,EAAIhE,GACJiE,OAAQ,MACRzQ,IAAKA,GAETwQ,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAIXsN,EAAIzJ,WAAa,SAAS4J,GACtB,GAAIvQ,GAAMmQ,EAAY,mBAClBK,EAAIhE,GACJiE,OAAQ,MACRzQ,IAAKA,GAETwQ,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAGXsN,EAAIpL,iBAAmB,SAAS9D,EAAIqP,GAChC,GAAIvQ,GAAMmQ,EAAY,eAAiBjP,EAAK,SACxCsP,EAAIhE,GACJiE,OAAQ,OACRzQ,IAAKA,GAETwQ,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAGXsN,EAAIhL,gBAAkB,SAASlE,EAAIqP,GAC/B,GAAIvQ,GAAMmQ,EAAY,eAAiBjP,EAAK,QACxCsP,EAAIhE,GACJiE,OAAQ,OACRzQ,IAAKA,GAETwQ,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAGXsN,EAAI/K,mBAAqB,SAASnE,EAAIqP,GAClC,GAAIvQ,GAAMmQ,EAAY,eAAiBjP,EAAK,QACxCsP,EAAIhE,GACJiE,OAAQ,MACRzQ,IAAKA,GAETwQ,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAGXsN,EAAI2C,WAAa,SAAS7R,EAAIqP,GAC1B,GAAIvQ,GAAMmQ,EAAY,SAAWjP,EAAK,SAClCsP,EAAIhE,GACJiE,OAAQ,OACRzQ,IAAKA,EACLgT,SACIC,eAAgB,oBAEpBjQ,MACIkQ,QAAQ,EACRC,KAAK,IAGb3C,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAIXsN,EAAIrJ,OAAS,SAASwJ,GAClB,GAAIvQ,GAAMmQ,EAAY,eAClBK,EAAIhE,GACJiE,OAAQ,MACRzQ,IAAKA,GAETwQ,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAIXsN,EAAIpI,cAAgB,SAASL,EAAO4I,GAChC,GAAIvQ,GAAMmQ,EAAY,iBAClBK,EAAIhE,GACJiE,OAAQ,MACRzQ,IAAKA,EACLoT,OAAQzL,GAEZ6I,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAGXsN,EAAIlI,cAAgB,SAASlF,EAAMuN,GAC/B,GAAIvQ,GAAMmQ,EAAY,iBAClBK,EAAIhE,GACJiE,OAAQ,OACRzQ,IAAKA,EACLgD,KAAMA,GAEVwN,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAGXsN,EAAIxN,eAAiB,SAAS1B,EAAIqP,GAC9B,GAAIvQ,GAAMmQ,EAAY,WAAajP,EAAK,QACpCsP,EAAIhE,GACJiE,OAAQ,MACRzQ,IAAKA,GAETwQ,GAAEE,QAAQ,SAAS5N,GACfyN,EAAGzN,MAMJsN,QAKf,WACI,YAEAtS,OAAMwO,QAAQ,2BAAA,aAA2B,SAASN,GAC9C,UAIA,OAAO,UAASqH,GACZ,GAAIC,GAASD,EAETE,EAAmBvH,EAAWwH,qBAKlC,KAAK,GAAIvH,KAAOsH,GAAkB,CAC9B,GAAIE,GAAQ,GAAIC,QAAOzH,GAAK0H,KAAKN,EACjC,IAAa,MAATI,EAAJ,CAGAH,EAASC,EAAiBtH,EAE1B,KAAK,GAAIhJ,GAAI,EAAGA,EAAIwQ,EAAMzD,OAAQ/M,IAC9BqQ,EAASA,EAAOpK,QAAQ,KAAOjG,EAAI,KAAMwQ,EAAMxQ,KAGvD,MAAOqQ,UAOnB,WACI,YAEAxV,OAAMwO,QAAQ,WAAA,aAAA,QAAA,OAAW,SAASC,EAAYC,EAAOjM,GACjD,UAEA,IAAI6P,KAgDJ,OA5CAA,GAAIQ,OAEA/L,OAAQ,SAAS8L,GACb,GAAIiD,GAAK,GAAIC,OACTtP,EAAM,EAEN0J,IAgCJ,OA/BAA,GAAMvN,IAAM,SAASoT,GACbvP,GAAOoM,GACP1C,EAAMrH,SAEVgN,EAAGrP,GAAOuP,EACVvP,KAEJ0J,EAAMrH,OAAS,WACX,MAAIgN,GAAG5D,OAAS,GACZzL,IACOqP,EAAG1D,SAFd,QAKJjC,EAAMG,MAAQ,WACV,MAAIwF,GAAG5D,OAAS,EACL4D,EAAG,GADd,QAIJ3F,EAAMK,KAAO,WACT,MAAOsF,GAAGrP,EAAM,IAEpB0J,EAAM8F,OAAS,WACX,MAAOH,IAEX3F,EAAM+F,QAAU,WACZ,MAAOrD,IAEX1C,EAAMC,YAAc,WAChB,MAAO3J,IAGJ0J,IAMRmC,QAKfrS,QAAQC,OAAO,YAAYC,KAAK,iBAAkB,SAASgW,GAAiBA,EAAeC,IAAI,oCAAoC,s6BACnID,EAAeC,IAAI,gCAAgC,gEACnDD,EAAeC,IAAI,mCAAmC,06CACtDD,EAAeC,IAAI,oCAAoC,2/CACvDD,EAAeC,IAAI,kCAAkC,sDACrDD,EAAeC,IAAI,kCAAkC,gPACrDD,EAAeC,IAAI,mCAAmC,s+BACtDD,EAAeC,IAAI,qCAAqC,giDACxDD,EAAeC,IAAI,4CAA4C,oaAC/DD,EAAeC,IAAI,2CAA2C,u8NAC9DD,EAAeC,IAAI,2CAA2C;AAC9DD,EAAeC,IAAI,yCAAyC","file":"scripts/app-39f7b5d6a8.js","sourcesContent":["(function() {\r\n    'use strict';\r\n\r\n    //定义应用\r\n    window.ngApp = angular.module('dockress', [\r\n        'ngCookies',\r\n        'ngResource',\r\n        'ngSanitize',\r\n        'ui.router',\r\n        'toastr',\r\n        'pascalprecht.translate',\r\n        'ngWebSocket',\r\n        'ngDialog',\r\n        'highcharts-ng',\r\n        'ngMaterial'\r\n    ]);\r\n\r\n    //启动\r\n    ngApp.run(function($log) {\r\n        'ngInject';\r\n\r\n        $log.debug('已经启动！');\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    //配置\r\n    ngApp.config(function($provide, $logProvider, $translateProvider, toastrConfig) {\r\n        'ngInject';\r\n\r\n        var conf = {};\r\n        conf.SVR_URL = {\r\n            base: 'http://ct.home:180/api',\r\n            ws: 'ws://ct.home:180/ws'            \r\n        };\r\n        $provide.value('CONF', conf);\r\n\r\n        // Enable log\r\n        $logProvider.debugEnabled(true);\r\n\r\n        // Set options third-party lib\r\n        toastrConfig.allowHtml = true;\r\n        toastrConfig.timeOut = 3000;\r\n        toastrConfig.positionClass = 'toast-top-right';\r\n        toastrConfig.preventDuplicates = true;\r\n        toastrConfig.progressBar = true;\r\n\r\n        //国际化\r\n        var lang = window.localStorage.lang || 'zh_CN';\r\n                $translateProvider.preferredLanguage(lang);\r\n                $translateProvider.useSanitizeValueStrategy('escape');\r\n                $translateProvider.useStaticFilesLoader({\r\n                    prefix: '/i18n/',\r\n                    suffix: '.json'\r\n                });\r\n\r\n        $translateProvider.useMissingTranslationHandler('regexTranslationHandler');\r\n\r\n    });\r\n\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.config(function($locationProvider, $stateProvider, $urlRouterProvider) {\r\n            'ngInject';\r\n            //$locationProvider.html5Mode(true);\r\n\r\n            $stateProvider\r\n                .state('overview', {\r\n                    url: '/',\r\n                    templateUrl: 'app/tpls/pages/overview.tpl.html',\r\n                    controller: 'overviewCtrl'\r\n                })\r\n                .state('image', {\r\n                    url: '/image',\r\n                    templateUrl: 'app/tpls/pages/image/list.tpl.html',\r\n                    controller: 'imageListCtrl'\r\n                })\r\n                .state('registrys', {\r\n                    url: '/registrys',\r\n                    templateUrl: 'app/tpls/pages/registrys.tpl.html',\r\n                    controller: 'registrysCtrl'\r\n                })\r\n                .state('nodes', {\r\n                    url: '/nodes',\r\n                    templateUrl: 'app/tpls/pages/nodes.tpl.html',\r\n                    controller: 'nodesCtrl'\r\n                })\r\n                .state('container', {\r\n                    url: '/container',\r\n                    templateUrl: 'app/tpls/pages/container/list.tpl.html',\r\n                    controller: 'containerListCtrl'\r\n                })\r\n                .state('containerDetail', {\r\n                    url: '/container/{id}',\r\n                    templateUrl: 'app/tpls/pages/container/detail.tpl.html',\r\n                    controller: 'containerDetailCtrl'\r\n                })\r\n                .state('containerCreate', {\r\n                    url: '/container/create/{imageId}',\r\n                    templateUrl: 'app/tpls/pages/container/create.tpl.html',\r\n                    controller: 'containerCreateCtrl'\r\n                });\r\n\r\n            $urlRouterProvider.otherwise('/');\r\n\r\n        });\r\n\r\n\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('containerConsoleCtrl', function($scope, $filter, $element, CONF, dockerApiSvr, containerSvr) {\r\n        'ngInject';\r\n\r\n        var containerId = $scope.containerId;\r\n\r\n        $scope.isMax = false;\r\n        $scope.tabs = [];\r\n\r\n        var num = 0;\r\n        $scope.add = function() {\r\n            if($scope.isMax){\r\n                return;\r\n            }\r\n            add({\r\n                id: 'exec-' + num,\r\n                label: 'Exec' + num,\r\n                content: 'Exec' + num,\r\n                start: true,\r\n                execUrl: CONF.SVR_URL.ws + '/exec/' + containerId + '/bash'\r\n            });\r\n            num++;\r\n            if(num >= 5){\r\n                $scope.isMax = true;\r\n            }\r\n        }\r\n\r\n        function add(tab) {\r\n            $scope.tabs.push(tab);\r\n            $element.find('.tabular.menu > .item').tab();\r\n        }\r\n\r\n\r\n        $scope.attachUrl = CONF.SVR_URL.ws + '/attach/' + containerId;\r\n        $scope.attachStart = true;\r\n\r\n        $scope.logUrl = CONF.SVR_URL.ws + '/log/' + containerId;\r\n        $scope.logStart = true;\r\n\r\n        //semantic初始化\r\n        $element.find('.tabular.menu > .item').tab();\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('containerCreateCtrl', function($scope, $stateParams, $element, $websocket, dockerApiSvr, containerSvr) {\r\n        'ngInject';\r\n\r\n        var imageId = $scope.imageId = $stateParams.imageId;\r\n\r\n        $scope.containerCreateVo = {\r\n            imageId: imageId,\r\n            portBindings: [],\r\n            envs: [],\r\n            binds: []\r\n        };\r\n\r\n        $scope.portBindingsValidate = function() {\r\n            for (var i in $scope.containerCreateVo.portBindings) {\r\n                var portBinding = $scope.containerCreateVo.portBindings[i];\r\n                if (!portBindingValidate(portBinding)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        $scope.addPortBinding = function() {\r\n            if (!$scope.portBindingsValidate()) {\r\n                return;\r\n            }\r\n\r\n            addPortBinding({\r\n                protocol: 'tcp',\r\n                port: undefined,\r\n                hostPort: undefined                      \r\n            });\r\n\r\n        };\r\n        $scope.removePortBinding = function(idx) {\r\n            $scope.containerCreateVo.portBindings.splice(idx, 1);\r\n        };\r\n\r\n\r\n        $scope.envsValidate = function() {\r\n            for (var i in $scope.containerCreateVo.envs) {\r\n                var env = $scope.containerCreateVo.envs[i];\r\n                if (!envValidate(env)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        $scope.addEnv = function() {\r\n            if (!$scope.envsValidate()) {\r\n                return;\r\n            }\r\n\r\n            addEnv({\r\n                name: undefined,\r\n                value: undefined\r\n            });\r\n        };\r\n        $scope.removeEnv = function(idx) {\r\n            $scope.containerCreateVo.envs.splice(idx, 1);\r\n        };\r\n\r\n        $scope.bindsValidate = function() {\r\n            for (var i in $scope.containerCreateVo.binds) {\r\n                var bind = $scope.containerCreateVo.binds[i];\r\n                if (!bindValidate(bind)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        $scope.addBind = function() {\r\n            if (!$scope.bindsValidate()) {\r\n                return;\r\n            }\r\n\r\n            addBind({\r\n                pathHost: undefined,\r\n                path: undefined,\r\n                readOnly: false             \r\n            });\r\n        };\r\n        $scope.removeBind = function(idx) {\r\n            $scope.containerCreateVo.binds.splice(idx, 1);\r\n        };\r\n\r\n        $scope.create = function() {\r\n            containerSvr.create($scope.containerCreateVo, function(rsp) {\r\n                console.log(rsp);\r\n\r\n            });\r\n        };\r\n\r\n\r\n        reload();\r\n\r\n        function reload() {\r\n            dockerApiSvr.images_inspect($scope.imageId, function(rsp) {\r\n                $scope.image = rsp.data;\r\n\r\n                //初始化端口\r\n                for(var i in $scope.image.Config.ExposedPorts){\r\n                    var exposedPort =  i.split('/');\r\n                    addPortBinding({\r\n                        protocol: exposedPort[1],\r\n                        port: parseInt(exposedPort[0]),\r\n                        hostPort: undefined                        \r\n                    });\r\n                }\r\n                //初始化卷\r\n                for(var i in $scope.image.Config.Volumes){\r\n                    var volume = i;\r\n\r\n                    addBind({\r\n                        pathHost: undefined,\r\n                        path: i,\r\n                        readOnly: false             \r\n                    });\r\n                }\r\n                //初始化环境变量\r\n                for(var i in $scope.image.Config.Env){\r\n                    var env = $scope.image.Config.Env[i].split('=');\r\n\r\n                    addEnv({\r\n                        name: env[0],\r\n                        value: env[1]\r\n                    });\r\n                }                              \r\n\r\n                console.log($scope.image);\r\n            });\r\n        };    \r\n\r\n\r\n        function addPortBinding(data){\r\n            $scope.containerCreateVo.portBindings.push(data);\r\n        }\r\n        function addBind(data){\r\n            $scope.containerCreateVo.binds.push(data);            \r\n        }\r\n        function addEnv(data){\r\n            $scope.containerCreateVo.envs.push(data);            \r\n        }\r\n\r\n    });\r\n\r\n    function portBindingValidate(portBinding) {\r\n        var intReg = /^\\d+$/;\r\n        if (intReg.test(portBinding.port) &&\r\n            intReg.test(portBinding.hostPort)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function envValidate(env) {\r\n        if (typeof env.name != 'undefined' \r\n            && typeof env.value != 'undefined') {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    function bindValidate(bind) {\r\n        if (typeof bind.hostPath != 'undefined' \r\n            && typeof bind.path != 'undefined'\r\n            && typeof bind.readOnly == 'boolean') {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('containerDetailCtrl', function($scope, $stateParams, $state, $filter, $element, $websocket, ngDialog, dockerApiSvr, containerSvr, CONF) {\r\n        'ngInject';\r\n\r\n        var containerId = $scope.containerId = $stateParams.id;\r\n        var statsUrl = CONF.SVR_URL.ws + '/stats/' + containerId;\r\n\r\n        var ws = $websocket(statsUrl);\r\n\r\n        var statsQueue = undefined;\r\n\r\n        ws.onMessage(function(message) {\r\n            statsQueue = containerSvr.countStats($.parseJSON(message.data), statsQueue);\r\n            $scope.stats = statsQueue.stats;\r\n        });\r\n\r\n        //切换容器状态\r\n        $scope.switch = function($event) {\r\n                if ($scope.container.State.Status == 'running') {\r\n                    stop();\r\n                } else {\r\n                    start();\r\n                }\r\n\r\n                $scope.container.State.Status = 'changing';\r\n\r\n                return false;\r\n            }\r\n            //打开命令行\r\n        $scope.openConsole = function() {\r\n            ngDialog.open({\r\n                template: 'app/tpls/dialogs/console.tpl.html',\r\n                scope: $scope,\r\n                width: '90%',\r\n                closeByDocument: false,\r\n                closeByEscape: false,\r\n                className: 'ngdialog-theme-plain'\r\n            });\r\n        }\r\n\r\n        //启动容器\r\n        function start() {\r\n            dockerApiSvr.containers_start($scope.container.Id, function(rsp) {\r\n                reload();\r\n            });\r\n        }\r\n        //停止容器\r\n        function stop() {\r\n            dockerApiSvr.containers_stop($scope.container.Id, function(rsp) {\r\n                reload();\r\n            });\r\n        }\r\n\r\n        //semantic初始化\r\n        $element.find('.tabular.menu > .item').tab();\r\n\r\n\r\n\r\n        reload();\r\n\r\n\r\n        function reload() {\r\n            dockerApiSvr.containers_inspect($scope.containerId, function(rsp) {\r\n                $scope.container = rsp.data;\r\n            });\r\n        };\r\n\r\n\r\n        $scope.$on('$destroy', function() {\r\n            statsQueue = undefined;\r\n            ws.close();\r\n        });\r\n\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('containerListCtrl', function($scope, $element, dockerApiSvr, containerSvr) {\r\n        'ngInject';\r\n\r\n        reload();\r\n\r\n\r\n\r\n        //切换容器状态\r\n        $scope.switch = function($event, container) {\r\n            if (container.State == 'running') {\r\n                stop(container);\r\n            } else {\r\n                start(container);\r\n            }\r\n            container.State = 'changing';\r\n            return false;\r\n        }\r\n        //删除容器\r\n        $scope.remove = function(container){\r\n            if(!confirm('确定移除该容器吗？')){\r\n                return;\r\n            }\r\n            containerSvr.remove(container.Id, function(rsp){\r\n                reload();\r\n            });\r\n        }\r\n\r\n\r\n        //启动容器\r\n        function start(container) {\r\n            dockerApiSvr.containers_start(container.Id, function(rsp) {\r\n                reload();\r\n            });\r\n        }\r\n        //停止容器\r\n        function stop(container) {\r\n            dockerApiSvr.containers_stop(container.Id, function(rsp) {\r\n                reload();\r\n            });\r\n        }\r\n\r\n\r\n\r\n        function reload() {\r\n            dockerApiSvr.containers(function(rsp) {\r\n                $scope.containers = rsp.data;\r\n            });\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('footerCtrl', function($scope, $location) {\r\n        'ngInject';\r\n\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('imageListCtrl', function($scope, $filter, dockerApiSvr) {\r\n        'ngInject';\r\n\r\n        reload();\r\n\r\n        function reload() {\r\n            dockerApiSvr.images(function(rsp) {\r\n                //处理id\r\n                for(var i in rsp.data){\r\n                    var image = rsp.data[i];\r\n                    image.Id = $filter('limitTo')(image.Id, 12, 7);\r\n                }\r\n\r\n                $scope.images = rsp.data;\r\n            });\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('navCtrl', function($scope, $location) {\r\n        'ngInject';\r\n\r\n        $scope.isActive = function(path) {\r\n            return $location.path().match(path);\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('nodesCtrl', function($scope) {\r\n        'ngInject';\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('overviewCtrl', function($scope, dockerApiSvr) {\r\n        'ngInject';\r\n\r\n        dockerApiSvr.info(function(rsp) {\r\n            $scope.info = rsp;\r\n\r\n            $('.overview .cpu .value').progress({\r\n                percent: 90\r\n            });\r\n        });\r\n        dockerApiSvr.containers(function(rsp) {\r\n            $scope.containers = rsp.data;\r\n        });\r\n\r\n\r\n\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.controller('registrysCtrl', function($scope, dockerApiSvr) {\r\n        'ngInject';\r\n\r\n\r\n        $scope.images = [{\r\n            \"star_count\": 1,\r\n            \"is_official\": false,\r\n            \"name\": \"cokappcharlie/aria2\",\r\n            \"is_trusted\": true,\r\n            \"is_automated\": true,\r\n            \"description\": \"aria2 in docker\"\r\n        }, {\r\n            \"star_count\": 1,\r\n            \"is_official\": false,\r\n            \"name\": \"cokapp/cokwiki\",\r\n            \"is_trusted\": false,\r\n            \"is_automated\": false,\r\n            \"description\": \"CokWiki是运行于Node平台的类Wiki程序\"\r\n        }];\r\n\r\n\r\n        $scope.search = function() {\r\n            var param = {\r\n                limit: 50\r\n            }\r\n            if ($scope.term) {\r\n                param.term = $scope.term;\r\n            } else {\r\n                param.filters = {\r\n                    'is-official': true\r\n                }\r\n            }\r\n\r\n            dockerApiSvr.images_search(param, function(rsp) {\r\n                $scope.images = rsp;\r\n            })\r\n        }\r\n        $scope.create = function(name) {\r\n        \tvar data = {};\r\n        \tdata.fromImage = name; \r\n            dockerApiSvr.images_create(data, function(rsp){\r\n            \tconsole.log(rsp);\r\n            });\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.directive('ngEnter', function() {\r\n        'ngInject';\r\n\r\n        return function(scope, element, attrs) {\r\n            element.bind(\"keydown keypress\", function(event) {\r\n                if (event.which === 13) {\r\n                    scope.$apply(function() {\r\n                        scope.$eval(attrs.ngEnter);\r\n                    });\r\n\r\n                    event.preventDefault();\r\n                }\r\n            });\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.directive('includeReplace', function() {\r\n        'ngInject';\r\n\r\n        return {\r\n            require: 'ngInclude',\r\n            restrict: 'A',\r\n            link: function(scope, el, attrs) {\r\n                el.replaceWith(el.children());\r\n            }\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.directive('ngSwitch', function($websocket) {\r\n        'ngInject';\r\n\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            scope: {\r\n\r\n                ngModel: '=',\r\n                ngData: '=',\r\n\r\n                disabled: '=',\r\n\r\n                ngTrueValue: '=',\r\n                ngFalseValue: '=',\r\n\r\n\r\n                ngBeforeChange: '&?',\r\n                ngAfterChange: '&?'\r\n            },\r\n            template: function(element, attrs) {\r\n                var html = '<span class=\"switch\" ng-click=\"onClick($event)\" ng-class=\"{checked: checked, disabled: disabled}\"><small></small><input type=\"checkbox\" ng-model=\"' + attrs.ngModel + '\" style=\"display:none\" /></span>';\r\n\r\n                return html;\r\n            },\r\n            link: function(scope, element, attrs) {\r\n                \r\n                scope.onClick = function($event) {\r\n\r\n                    if(scope.disabled){\r\n                        return;\r\n                    }\r\n\r\n                    if (scope.ngBeforeChange) {\r\n                        if(!scope.ngBeforeChange($event, scope.ngData)){\r\n                            return;\r\n                        }\r\n                    };\r\n\r\n                    calc();\r\n                    refresh();\r\n\r\n                    if(scope.ngAfterChange){\r\n                        scope.ngAfterChange($event, scope.ngData);\r\n                    }\r\n                };\r\n\r\n                scope.$watch('ngModel', function() {\r\n                    refresh();\r\n                })\r\n\r\n\r\n\r\n                var calc = function() {\r\n                    //计算model\r\n                    scope.ngModel = scope.ngModel == scope.ngTrueValue ? scope.ngFalseValue : scope.ngTrueValue;\r\n                }\r\n                var refresh = function() {\r\n                    //计算选中状态\r\n                    scope.checked = scope.ngModel == scope.ngTrueValue ? true : false;\r\n                };\r\n\r\n                refresh();\r\n            }\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.directive('ngTerm', function($websocket) {\r\n        'ngInject';\r\n\r\n        return {\r\n            restrict: 'EA',\r\n            scope: {\r\n                url: '=',\r\n\r\n                logs: '@',\r\n                stdin: '@',\r\n                start: '='\r\n            },\r\n            template: '<div class=\"ng-term\"></div>',\r\n            replace: false,\r\n            link: function(scope, element, attrs) {\r\n                var inited = false;\r\n\r\n                var init = function() {\r\n                    var term = new Terminal({\r\n                        cols: 100,\r\n                        rows: 15,\r\n                        convertEol: true,\r\n                        useStyle: true,\r\n                        cursorBlink: true,\r\n                        screenKeys: true\r\n                    });\r\n                    var ws = $websocket(scope.url);\r\n\r\n                    ws.onMessage(function(message) {\r\n                        term.write(message.data);\r\n                    });\r\n                    ws.onClose(function() {\r\n                        term.destroy();\r\n                    });\r\n                    ws.send('\\n');\r\n\r\n                    term.open(element.find('.ng-term')[0]);\r\n                    term.on('data', function(message) {\r\n                        ws.send(message);\r\n                    });\r\n\r\n                    element.on('$destroy', function() {\r\n                        term.destroy();\r\n                    });\r\n\r\n                    inited = true;\r\n                }\r\n\r\n                if (scope.start) {\r\n                    init();\r\n                }\r\n\r\n                if (!inited) {\r\n                    var stopWatch = scope.$watch('start', function() {\r\n                        if (scope.start) {\r\n                            init();\r\n                            stopWatch();\r\n                        }\r\n                    });\r\n                }\r\n\r\n\r\n\r\n            }\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.filter('FileSize', function() {\r\n        'ngInject';\r\n\r\n        return function(bytes, precision, rate, useSub) {\r\n            if (isNaN(parseFloat(bytes)) || !isFinite(bytes) || bytes==0) return '-';\r\n            if (typeof precision === 'undefined') precision = 1;\r\n            if (typeof rate === 'undefined') rate = 1024;\r\n            if (typeof useSub === 'undefined') useSub = false;\r\n\r\n            var number = Math.floor(Math.log(bytes) / Math.log(rate));\r\n            var units = ['bytes', 'kB', 'MB', 'GB', 'TB', 'PB']\r\n            if(useSub){\r\n                units = ['<sub>bytes</sub>', '<sub>kB</sub>', '<sub>MB</sub>', '<sub>GB</sub>', '<sub>TB</sub>', '<sub>PB</sub>'];\r\n            };\r\n            return (bytes / Math.pow(rate, Math.floor(number))).toFixed(precision) + ' ' + units[number];\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.filter('T', function($translate) {\r\n        'ngInject';\r\n\r\n        return function(key) {\r\n            if (key) {\r\n                return $translate.instant(key) | key;\r\n            }\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.filter('trustHtml', function($sce) {\r\n        'ngInject';\r\n\r\n        return function(text) {\r\n            return $sce.trustAsHtml(text);\r\n        };\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.factory('containerSvr', function($rootScope, $http, CONF, utilSvr, $filter) {\r\n        'ngInject';\r\n\r\n        var dockerUrl = CONF.SVR_URL.base;\r\n\r\n        var svr = {};\r\n\r\n        svr.countStats = function(stats, queue) {\r\n            if (typeof queue === 'undefined') {\r\n                queue = StatsQueue.create(8);\r\n            }\r\n            queue.add(stats);\r\n            return queue.count();\r\n        };\r\n\r\n        svr.create = function(containerCreateVo, cb){\r\n            var url = dockerUrl + '/containers/create';\r\n            var p = $http({\r\n                method: 'POST',\r\n                url: url,\r\n                data: containerCreateVo\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n        svr.remove = function(containerId, cb){\r\n            var url = dockerUrl + '/containers/' + containerId + '/remove';\r\n            var p = $http({\r\n                method: 'GET',\r\n                url: url\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //===================以下私有方法=======================\r\n       \r\n        var StatsQueue = {\r\n            create: function(size) {\r\n                var queue = utilSvr.Queue.create(size);\r\n\r\n                queue.count = function() {\r\n                    queue.stats = queue.stats || {\r\n                        overview: {}\r\n                    };\r\n                    var stats = $.extend(true, queue.stats, queue.last());\r\n\r\n                    //计算CPU\r\n                    calcCpu(stats);\r\n                    //计算RAM\r\n                    calcRam(stats);\r\n                    //计算NET\r\n                    calcNet(stats, queue);\r\n\r\n                    return queue;\r\n                };\r\n\r\n                return queue;\r\n            }\r\n        };\r\n\r\n        //CPU\r\n        function calcCpu(stats) {\r\n            var overview = stats.overview;\r\n\r\n            overview.cpu_use = stats.cpu_stats.cpu_usage.total_usage - stats.precpu_stats.cpu_usage.total_usage;\r\n            overview.cpu_sys = stats.cpu_stats.system_cpu_usage - stats.precpu_stats.system_cpu_usage;\r\n            overview.cpu_percent = 100 * overview.cpu_use / overview.cpu_sys;\r\n\r\n            //图表\r\n            var chart = $.extend(true, {}, CHART_PIE);\r\n            chart.title.text = '<div class=\"chart-title\"><strong>' + $filter('number')(overview.cpu_percent, 2) + '<sub> %</sub></strong><p>CPU使用率<span></p>';\r\n            chart.series[0].data[0].y = overview.cpu_use;\r\n            chart.series[0].data[1].y = overview.cpu_sys - overview.cpu_use;\r\n\r\n            overview.cpu_percent_chart = chart;\r\n        }\r\n        //RAM\r\n        function calcRam(stats) {\r\n            var overview = stats.overview;\r\n\r\n            overview.memory_percent = 100 * stats.memory_stats.usage / stats.memory_stats.limit;\r\n\r\n            //图表\r\n            var chart = $.extend(true, {}, CHART_PIE);\r\n            chart.title.text = '<div class=\"chart-title\"><strong>' + $filter('FileSize')(stats.memory_stats.usage, 1, 1000, true) + '</strong><p>内存使用量<span></p>';\r\n            chart.series[0].data[0].y = stats.memory_stats.usage;\r\n            chart.series[0].data[1].y = stats.memory_stats.limit - stats.memory_stats.usage;\r\n\r\n            overview.memory_percent_chart = chart;\r\n        }\r\n        //网络状态\r\n        function calcNet(stats, queue) {\r\n            if (queue.getRealSize() <= 1) {\r\n                return;\r\n            }\r\n\r\n            var overview = stats.overview;\r\n\r\n            var firstStats = $.extend(true, {}, queue.first());\r\n            var lastStats = $.extend(true, {}, queue.last());\r\n\r\n            var firstNet = sumNet(firstStats);\r\n            var lastNet = sumNet(lastStats);\r\n\r\n            var ts = Date.parse(lastStats.read) - Date.parse(firstStats.read);\r\n            overview.networks_read = lastStats.read;\r\n            overview.networks_up_speed = 1000 * (lastNet[0] - firstNet[0]) / ts;\r\n            overview.networks_down_speed = 1000 * (lastNet[1] - firstNet[1]) / ts;\r\n            overview.networks_up = lastNet[0];\r\n            overview.networks_down = lastNet[1];\r\n\r\n            //图表\r\n            var time = Date.parse(overview.networks_read);\r\n            var xNum = 5;\r\n\r\n            var speed_chart = $.extend(true, queue.stats.overview.networks_speed_chart, CHART_AREA);\r\n            addNetPoint(speed_chart.series[0].data, xNum, time, overview.networks_up_speed);\r\n            addNetPoint(speed_chart.series[1].data, xNum, time, overview.networks_down_speed);\r\n\r\n            overview.networks_speed_chart = speed_chart;\r\n        };\r\n\r\n        function sumNet(stats) {\r\n            var netStats = [0, 0];\r\n            for (var i in stats.networks) {\r\n                var eth = stats.networks[i];\r\n                netStats[0] += eth.tx_bytes;\r\n                netStats[1] += eth.rx_bytes;\r\n            };\r\n            return netStats;\r\n        };\r\n\r\n        function addNetPoint(seriesData, num, time, speed) {\r\n\r\n            while (seriesData.length < num) {\r\n                seriesData.push({\r\n                    x: time - (num - seriesData.length) * 1000,\r\n                    y: 0\r\n                });\r\n            }\r\n\r\n            if (seriesData.length == num) {\r\n                seriesData.shift();\r\n            }\r\n            seriesData.push({\r\n                x: time,\r\n                y: speed\r\n            });\r\n        };\r\n\r\n        var CHART_PIE = {\r\n            options: {\r\n                chart: {\r\n                    type: 'pie',\r\n                    spacing: [0, 0, 0, 0],\r\n                    margin: [0, 0, 0, 0],\r\n                    height: 160,\r\n                    backgroundColor: 'transparent',\r\n                    events: {}\r\n                },\r\n                tooltip: {\r\n                    enabled: false\r\n                },\r\n                plotOptions: {\r\n                    series: {\r\n                        animation: false,\r\n                        dataLabels: {\r\n                            enabled: false\r\n                        },\r\n                        enableMouseTracking: false\r\n                    },\r\n                    pie: {\r\n                        borderWidth: 0\r\n                    }\r\n                },\r\n                credits: {\r\n                    enabled: false\r\n                },\r\n                exporting: {\r\n                    enabled: false\r\n                }\r\n            },\r\n            title: {\r\n                useHTML: true,\r\n                text: '',\r\n                align: 'center',\r\n                verticalAlign: 'middle'\r\n            },\r\n            series: [{\r\n                type: 'pie',\r\n                name: 'datas',\r\n                innerSize: '90%',\r\n                data: [{\r\n                    name: 'data1',\r\n                    y: 0,\r\n                    color: '#5EA3F8'\r\n                }, {\r\n                    name: 'data2',\r\n                    y: 1,\r\n                    color: '#CCC'\r\n                }]\r\n            }]\r\n        };\r\n        var CHART_AREA = {\r\n            options: {\r\n                chart: {\r\n                    type: 'line',\r\n                    animation: Highcharts.svg,\r\n                    height: 160,\r\n                    backgroundColor: 'transparent',\r\n                    events: {}\r\n                },\r\n                title: {\r\n                    text: null\r\n                },\r\n                legend: {\r\n                    floating: true,\r\n                    align: 'right',\r\n                    verticalAlign: 'top',\r\n                    labelFormatter: function() {\r\n                        return this.name;\r\n                    }\r\n                },\r\n                tooltip: {\r\n                    enabled: false\r\n                },\r\n                plotOptions: {\r\n                    series: {\r\n                        animation: false,\r\n                        dataLabels: {\r\n                            enabled: false\r\n                        },\r\n                        enableMouseTracking: false\r\n                    },\r\n                    line: {\r\n                        lineWidth: 1\r\n                    }\r\n                },\r\n                credits: {\r\n                    enabled: false\r\n                },\r\n                exporting: {\r\n                    enabled: false\r\n                }\r\n            },\r\n            xAxis: {\r\n                type: 'datetime'\r\n            },\r\n            yAxis: {\r\n                title: {\r\n                    text: '网络带宽'\r\n                }\r\n            },\r\n            series: [{\r\n                name: '发送',\r\n                data: []\r\n            }, {\r\n                name: '接收',\r\n                data: []\r\n            }]\r\n        };\r\n\r\n        return svr;\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.factory('dockerApiSvr', function($rootScope, $http, CONF) {\r\n        'ngInject';\r\n\r\n        var dockerUrl = CONF.SVR_URL.base;\r\n\r\n        $rootScope.cancelEvent = function(event) {\r\n            console.log('cancelEvent');\r\n            var event = event || window.event; //用于IE  \r\n            if (event.preventDefault) event.preventDefault(); //标准技术  \r\n            if (event.returnValue) event.returnValue = false; //IE  \r\n            return false; //用于处理使用对象属性注册的处理程序  \r\n        }\r\n\r\n\r\n        var svr = {};\r\n\r\n        svr.info = function(cb) {\r\n            var url = dockerUrl + '/info';\r\n            var p = $http({\r\n                method: 'GET',\r\n                url: url\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n\r\n        svr.containers = function(cb) {\r\n            var url = dockerUrl + '/containers/json';\r\n            var p = $http({\r\n                method: 'GET',\r\n                url: url\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n        svr.containers_start = function(id, cb) {\r\n            var url = dockerUrl + '/containers/' + id + '/start';\r\n            var p = $http({\r\n                method: 'POST',\r\n                url: url\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n        svr.containers_stop = function(id, cb) {\r\n            var url = dockerUrl + '/containers/' + id + '/stop';\r\n            var p = $http({\r\n                method: 'POST',\r\n                url: url\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n        svr.containers_inspect = function(id, cb) {\r\n            var url = dockerUrl + '/containers/' + id + '/json';\r\n            var p = $http({\r\n                method: 'GET',\r\n                url: url\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n        svr.exec_start = function(id, cb) {\r\n            var url = dockerUrl + '/exec/' + id + '/start';\r\n            var p = $http({\r\n                method: 'POST',\r\n                url: url,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                data: {\r\n                    Detach: false,\r\n                    Tty: true\r\n                }\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n\r\n        svr.images = function(cb) {\r\n            var url = dockerUrl + '/images/json';\r\n            var p = $http({\r\n                method: 'GET',\r\n                url: url\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n\r\n        svr.images_search = function(param, cb) {\r\n            var url = dockerUrl + '/images/search';\r\n            var p = $http({\r\n                method: 'GET',\r\n                url: url,\r\n                params: param\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n        svr.images_create = function(data, cb) {\r\n            var url = dockerUrl + '/images/create';\r\n            var p = $http({\r\n                method: 'POST',\r\n                url: url,\r\n                data: data\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n        svr.images_inspect = function(id, cb) {\r\n            var url = dockerUrl + '/images/' + id + '/json';\r\n            var p = $http({\r\n                method: 'GET',\r\n                url: url\r\n            });\r\n            p.success(function(rsp) {\r\n                cb(rsp);\r\n            });\r\n        };\r\n\r\n\r\n\r\n        return svr;\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.factory('regexTranslationHandler', function($translate) {\r\n        'ngInject';\r\n\r\n\r\n\r\n        return function(translationID) {\r\n            var result = translationID;\r\n\r\n            var translationTable = $translate.getTranslationTable();\r\n\r\n            //key: up on (.*) hours, next (.*) days\r\n            //translationID: up on 5 hours, next 6 days\r\n            //result: 超过 {{1}} 小时，等待 {{2}} 天\r\n            for (var key in translationTable) {\r\n                var regex = new RegExp(key).exec(translationID);\r\n                if (regex == null) {\r\n                    continue;\r\n                }\r\n                result = translationTable[key];\r\n\r\n                for (var i = 1; i < regex.length; i++) {\r\n                    result = result.replace('{{' + i + '}}', regex[i]);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    ngApp.factory('utilSvr', function($rootScope, $http, CONF) {\r\n        'ngInject';\r\n\r\n        var svr = {};\r\n\r\n\r\n        //简易队列\r\n        svr.Queue = {\r\n\r\n            create: function(size) {\r\n                var ds = new Array();\r\n                var idx = 0;\r\n\r\n                var queue = {};\r\n                queue.add = function(obj) {\r\n                    if (idx >= size) {\r\n                        queue.remove();\r\n                    }\r\n                    ds[idx] = obj;\r\n                    idx++;\r\n                };\r\n                queue.remove = function() {\r\n                    if (ds.length > 0) {\r\n                        idx--;\r\n                        return ds.shift();\r\n                    }\r\n                };\r\n                queue.first = function() {\r\n                    if (ds.length > 0) {\r\n                        return ds[0];\r\n                    }\r\n                };\r\n                queue.last = function() {\r\n                    return ds[idx - 1];\r\n                }\r\n                queue.getAll = function() {\r\n                    return ds;\r\n                };\r\n                queue.getSize = function(){\r\n                    return size;\r\n                };\r\n                queue.getRealSize = function(){\r\n                    return idx;\r\n                };\r\n\r\n                return queue;\r\n            }\r\n        };\r\n\r\n\r\n\r\n        return svr;\r\n    });\r\n\r\n})();\r\n\nangular.module(\"dockress\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/tpls/dialogs/console.tpl.html\",\"<div class=\\\"app-dialog-console\\\" ng-controller=\\\"containerConsoleCtrl\\\">   \\r\\n    <md-tabs md-selected=\\\"selectedIndex\\\" md-autoselect>\\r\\n        <md-tab label=\\\"Attach\\\">\\r\\n            <div>\\r\\n                <div>\\r\\n                    <div ng-term url=\\\"attachUrl\\\" start=\\\"attachStart\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </md-tab>\\r\\n        <md-tab label=\\\"Log\\\">\\r\\n            <div>\\r\\n                <div>\\r\\n                    <div ng-term url=\\\"logUrl\\\" start=\\\"logStart\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </md-tab>            \\r\\n        <md-tab ng-repeat=\\\"tab in tabs\\\" label=\\\"{{tab.label}}\\\">\\r\\n            <div>\\r\\n                <div ng-term url=\\\"tab.execUrl\\\" start=\\\"tab.start\\\"></div>\\r\\n            </div>\\r\\n        </md-tab>\\r\\n\\r\\n\\r\\n\\r\\n        <md-tab label=\\\"增加\\\" ng-click=\\\"add()\\\" ng-disabled=\\\"isMax\\\">\\r\\n        </md-tab>\\r\\n    </md-tabs>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/pages/nodes.tpl.html\",\"<div class=\\\"container pages\\\">\\r\\n\\r\\nnodes\\r\\n\\r\\n\\r\\n</div>\");\n$templateCache.put(\"app/tpls/pages/overview.tpl.html\",\"<div class=\\\"container pages overview\\\">\\r\\n    <div class=\\\"ui grid usage\\\">\\r\\n        <div class=\\\"eight wide column\\\">\\r\\n            <div class=\\\"cpu clearfix\\\">\\r\\n                <div class=\\\"left\\\">\\r\\n                </div>\\r\\n                <div class=\\\"right\\\">\\r\\n                    <div class=\\\"title\\\">CPU使用率</div>\\r\\n                    <div class=\\\"value\\\">{{info.NFd}}</div>\\r\\n                    <div class=\\\"ui tiny progress\\\">\\r\\n                        <div class=\\\"bar\\\"></div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"eight wide column\\\">\\r\\n            <div class=\\\"ram clearfix\\\">\\r\\n                <div class=\\\"left\\\">\\r\\n                </div>\\r\\n                <div class=\\\"right\\\">\\r\\n                    <div class=\\\"title\\\">内存使用率</div>\\r\\n                    <div class=\\\"value\\\">{{info.MemTotal}}</div>\\r\\n                    <div class=\\\"ui tiny progress\\\">\\r\\n                        <div class=\\\"bar\\\"></div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"ui grid containers\\\">\\r\\n        <div class=\\\"four wide column\\\" ng-repeat=\\\"container in containers | orderBy:\\'Created\\'\\\">\\r\\n            <div class=\\\"container\\\">\\r\\n                <h1>{{container.Names[0]}}</h1>\\r\\n                <p>{{container.Status}}</p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/pages/registrys.tpl.html\",\"<div class=\\\"container text pages registrys\\\">\\r\\n    <div class=\\\"search-wrapper\\\">\\r\\n        <div class=\\\"ui icon input fluid\\\">\\r\\n            <input ng-enter=\\\"search()\\\" class=\\\"prompt\\\" ng-model=\\\"term\\\" type=\\\"text\\\" placeholder=\\\"{{\\'registrys.search_images\\'|translate}}\\\">\\r\\n            <i ng-click=\\\"search()\\\" class=\\\"search icon\\\"></i>\\r\\n        </div>\\r\\n    </div>\\r\\n    <table class=\\\"ui large table\\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th>名称</th>\\r\\n                <th>认证</th>\\r\\n                <th>描述</th>\\r\\n                <th>操作</th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr ng-repeat=\\\"image in images | orderBy:\\'star_count\\'\\\">\\r\\n                <td>\\r\\n                    <div class=\\\"ui label\\\">\\r\\n                        {{image.name}}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td class=\\\"certificate\\\">\\r\\n                    <i class=\\\"iconfont icon-trusted\\\" ng-class=\\\"{active: image.is_trusted}\\\"></i>\\r\\n                    <i class=\\\"iconfont icon-official\\\" ng-class=\\\"{active: image.is_official}\\\"></i>\\r\\n                </td>\\r\\n                <td>\\r\\n                    {{image.description}}\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"ui primary button\\\" ng-click=\\\"create(image.name)\\\">\\r\\n                        {{\\'registrys.pull\\'|translate}}\\r\\n                    </button>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/public/footer.tpl.html\",\"<div ng-controller=\\\"footerCtrl\\\">\\r\\n\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/public/header.tpl.html\",\"<div class=\\\"app-header\\\">\\r\\n    <div class=\\\"ui left icon input fluid\\\">\\r\\n        <input class=\\\"search prompt\\\" type=\\\"text\\\" placeholder=\\\"{{\\'header.search\\'|translate}}\\\">\\r\\n        <i class=\\\"search icon\\\"></i>\\r\\n    </div>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/public/sidebar.tpl.html\",\"<div class=\\\"app-sidebar\\\" ng-controller=\\\"navCtrl\\\">\\r\\n    <div class=\\\"logo\\\">\\r\\n        Dockress\\r\\n    </div>\\r\\n    <ul class=\\\"nav-vertical\\\">\\r\\n        <li class=\\\"item\\\" ng-class=\\\"{active :isActive(\\'^/$\\')}\\\"><a ui-sref=\\\"overview\\\"><i class=\\\"dashboard layout icon\\\"></i> {{\\'header.overview\\'|translate}}</a></li>\\r\\n        <li class=\\\"item\\\" ng-class=\\\"{active :isActive(\\'/container\\')}\\\"><a ui-sref=\\\"container\\\"><i class=\\\"cubes icon\\\"></i> {{\\'header.containers\\'|translate}}</a></li>\\r\\n        <li class=\\\"item\\\" ng-class=\\\"{active :isActive(\\'/image\\')}\\\"><a ui-sref=\\\"image\\\"><i class=\\\"database icon\\\"></i> {{\\'header.images\\'|translate}}</a></li>\\r\\n        <li class=\\\"item\\\" ng-class=\\\"{active :isActive(\\'/registrys\\')}\\\"><a ui-sref=\\\"registrys\\\"><i class=\\\"cloud icon\\\"></i> {{\\'header.registrys\\'|translate}}</a></li>\\r\\n        <li class=\\\"item\\\" ng-class=\\\"{active :isActive(\\'/nodes\\')}\\\"><a ui-sref=\\\"nodes\\\"><i class=\\\"sitemap icon\\\"></i> {{\\'header.nodes\\'|translate}}</a></li>\\r\\n    </ul>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/pages/image/list.tpl.html\",\"<div class=\\\"container text pages images\\\">\\r\\n    <div class=\\\"toolbar\\\">\\r\\n        <button class=\\\"ui labeled icon primary button\\\">\\r\\n            <i class=\\\"refresh icon\\\"></i> {{\\'images.refresh\\'|translate}}\\r\\n        </button>\\r\\n        <button class=\\\"ui labeled icon primary button\\\">\\r\\n            <i class=\\\"cloud download icon\\\"></i> {{\\'images.pull\\'|translate}}\\r\\n        </button>\\r\\n    </div>\\r\\n    <table class=\\\"ui large table\\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th>ID</th>\\r\\n                <th>名称</th>\\r\\n                <th>创建时间</th>\\r\\n                <th>占用空间</th>\\r\\n                <th>操作</th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr ng-repeat=\\\"image in images | orderBy:\\'Created\\'\\\">\\r\\n                <td>\\r\\n                    {{image.Id}}\\r\\n                </td>\\r\\n                <td>\\r\\n                    <div class=\\\"ui label\\\">\\r\\n                        {{image.RepoTags[0]}}\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td>\\r\\n                    {{image.Created * 1000 | date:\\'yyyy-MM-dd HH:mm:ss Z\\'}}\\r\\n                </td>\\r\\n                <td>\\r\\n                    <span>{{image.VirtualSize | FileSize}}</span>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button  ui-sref=\\\"containerCreate({imageId: image.Id})\\\" class=\\\"ui primary button\\\">\\r\\n                        启动\\r\\n                    </button>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/pages/container/console.tpl.html\",\"<div class=\\\"app-container-console\\\">\\r\\n    <div class=\\\"console segment\\\">\\r\\n        <div class=\\\"ui flat tabular menu\\\">\\r\\n            <a class=\\\"item active\\\" data-tab=\\\"attach\\\">Attach</a>\\r\\n            <a class=\\\"item\\\">增加</a>\\r\\n        </div>\\r\\n        <div class=\\\"ui flat tab active\\\" data-tab=\\\"attach\\\">\\r\\n        <div ng-term url=\\\"attachUrl\\\" start=\\\"attachStart\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/pages/container/create.tpl.html\",\"<div class=\\\"app-container-create\\\">\\r\\n    <div class=\\\"head\\\">\\r\\n        <i class=\\\"cubes icon\\\"></i> <strong>启动容器{{imageId}}</strong>\\r\\n        <br> {{containerCreateVo}}\\r\\n    </div>\\r\\n    <div class=\\\"ui grid\\\">\\r\\n        <div class=\\\"eight wide column\\\">\\r\\n            <h4>基础设置</h4>\\r\\n            <section class=\\\"name\\\">\\r\\n                <div class=\\\"ui form\\\">\\r\\n                    <div class=\\\"field\\\">\\r\\n                        <label>名称</label>\\r\\n                        <input type=\\\"text\\\" ng-model=\\\"containerCreateVo.name\\\">\\r\\n                    </div>\\r\\n                    <div class=\\\"field\\\">\\r\\n                        <label>执行命令</label>\\r\\n                        <input type=\\\"text\\\" ng-model=\\\"containerCreateVo.cmd\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </section>\\r\\n        </div>\\r\\n        <div class=\\\"eight wide column\\\">\\r\\n            <h4>端口绑定</h4>\\r\\n            <section class=\\\"port-bindings\\\">\\r\\n                <div class=\\\"ui form\\\">\\r\\n                    <table class=\\\"ui table\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>容器端口</th>\\r\\n                                <th>主机端口</th>\\r\\n                                <th>协议</th>\\r\\n                                <th>操作</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr ng-repeat=\\\"portBinding in containerCreateVo.portBindings track by $index\\\">\\r\\n                                <td>\\r\\n                                    <div class=\\\"field\\\">\\r\\n                                        <input type=\\\"number\\\" step=\\\"1\\\" ng-model=\\\"portBinding.port\\\"></input>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <div class=\\\"field\\\">\\r\\n                                        <input type=\\\"number\\\" step=\\\"1\\\" ng-model=\\\"portBinding.hostPort\\\"></input>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <div class=\\\"field\\\">\\r\\n                                        <select class=\\\"ui fluid dropdown\\\" ng-model=\\\"portBinding.protocol\\\">\\r\\n                                            <option value=\\\"tcp\\\">TCP</option>\\r\\n                                            <option value=\\\"udp\\\">UDP</option>\\r\\n                                        </select>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <div class=\\\"ui button orange\\\" ng-click=\\\"removePortBinding($index)\\\">移除</div>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                    <div class=\\\"ui button fluid primary\\\" ng-class=\\\"{disabled: !portBindingsValidate()}\\\" ng-click=\\\"addPortBinding()\\\">添加服务端口</div>\\r\\n                </div>\\r\\n            </section>\\r\\n        </div>\\r\\n        <div class=\\\"eight wide column\\\">\\r\\n            <h4>挂载点</h4>\\r\\n            <section class=\\\"binds\\\">\\r\\n                <div class=\\\"ui form\\\">\\r\\n                    <table class=\\\"ui table\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>容器路径</th>\\r\\n                                <th>主机路径</th>\\r\\n                                <th>只读</th>\\r\\n                                <th>操作</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr ng-repeat=\\\"bind in containerCreateVo.binds track by $index\\\">\\r\\n                                <td>\\r\\n                                    <div class=\\\"field\\\">\\r\\n                                        <input type=\\\"text\\\" ng-model=\\\"bind.path\\\"></input>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <div class=\\\"field\\\">\\r\\n                                        <input type=\\\"text\\\" ng-model=\\\"bind.hostPath\\\"></input>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <div class=\\\"field\\\">\\r\\n                                        <div ng-switch ng-model=\\\"bind.readOnly\\\" ng-true-value=\\\"true\\\" ng-false-value=\\\"false\\\"></div>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <div class=\\\"ui button orange\\\" ng-click=\\\"removeBind($index)\\\">移除</div>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                    <div class=\\\"ui button fluid primary\\\" ng-class=\\\"{disabled: !bindsValidate()}\\\" ng-click=\\\"addBind()\\\">添加卷映射</div>\\r\\n                </div>\\r\\n            </section>\\r\\n        </div>\\r\\n        <div class=\\\"eight wide column\\\">\\r\\n            <h4>环境变量</h4>\\r\\n            <section class=\\\"env\\\">\\r\\n                <div class=\\\"ui form\\\">\\r\\n                    <table class=\\\"ui table\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>名称</th>\\r\\n                                <th>值</th>\\r\\n                                <th>操作</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr ng-repeat=\\\"env in containerCreateVo.envs track by $index\\\">\\r\\n                                <td>\\r\\n                                    <div class=\\\"field\\\">\\r\\n                                        <input type=\\\"text\\\" ng-model=\\\"env.name\\\"></input>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <div class=\\\"field\\\">\\r\\n                                        <input type=\\\"text\\\" ng-model=\\\"env.value\\\"></input>\\r\\n                                    </div>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <div class=\\\"ui button orange\\\" ng-click=\\\"removeEnv($index)\\\">移除</div>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                    <div class=\\\"ui button fluid primary\\\" ng-class=\\\"{disabled: !envsValidate()}\\\" ng-click=\\\"addEnv()\\\">添加环境变量</div>\\r\\n                </div>\\r\\n            </section>\\r\\n        </div>\\r\\n        <div class=\\\"sixteen wide column\\\">\\r\\n            <div class=\\\"ui button fluid primary\\\" ng-class=\\\"{disabled: !envsValidate() || !portBindingsValidate() || !bindsValidate()}\\\" ng-click=\\\"create()\\\">提交</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/pages/container/detail.tpl.html\",\"<div class=\\\"app-container-detail\\\">\\r\\n    <div class=\\\"head\\\">\\r\\n        <i class=\\\"cubes icon\\\"></i> <strong>{{container.Name}}</strong>\\r\\n    </div>\\r\\n    <div class=\\\"overview segment\\\">\\r\\n        <ul class=\\\"clearfix\\\">\\r\\n            <li class=\\\"item status\\\">\\r\\n                <div>\\r\\n                    <strong ng-class=\\\"{\\'running\\':\\'green\\', \\'exited\\':\\'red\\'}[container.State.Status]\\\">\\r\\n                        <i class=\\\"iconfont\\\"  ng-class=\\\"{\\'running\\':\\'icon-right\\', \\'exited\\':\\'icon-error\\'}[container.State.Status]\\\"></i> \\r\\n                        {{\\'container.detail.\\' + container.State.Status|translate}}\\r\\n                    </strong>\\r\\n                    <span>容器状态</span>\\r\\n                    <div>\\r\\n                        <div ng-switch ng-before-change=\\\"switch($event)\\\" ng-model=\\\"container.State.Status\\\" ng-true-value=\\\"\\'running\\'\\\" ng-false-value=\\\"\\'exited\\'\\\"></div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </li>\\r\\n            <li class=\\\"item cpu\\\">\\r\\n                <highchart ng-if=\\\"stats.overview.cpu_percent_chart\\\" config=\\\"stats.overview.cpu_percent_chart\\\"></highchart>\\r\\n            </li>\\r\\n            <li class=\\\"item ram\\\">\\r\\n                <highchart ng-if=\\\"stats.overview.memory_percent_chart\\\" config=\\\"stats.overview.memory_percent_chart\\\"></highchart>\\r\\n            </li>\\r\\n            <li class=\\\"item net\\\">\\r\\n                <highchart ng-if=\\\"stats.overview.networks_speed_chart\\\" config=\\\"stats.overview.networks_speed_chart\\\"></highchart>\\r\\n            </li>\\r\\n            <li class=\\\"item net-total\\\">\\r\\n                <div ng-if=\\\"stats.overview.networks_down\\\">\\r\\n                    <div>\\r\\n                        <p ng-bind-html=\\\"stats.overview.networks_down | FileSize:2:1000:true\\\"></p>\\r\\n                        <span>网络吞吐 ( 接收 )</span>\\r\\n                    </div>\\r\\n                    <hr />\\r\\n                    <div>\\r\\n                        <p ng-bind-html=\\\"stats.overview.networks_up | FileSize:2:1000:true\\\"></p>\\r\\n                        <span>网络吞吐 ( 发送 )</span>\\r\\n                    </div>              \\r\\n                </div>\\r\\n            </li>\\r\\n        </ul>\\r\\n    </div>\\r\\n    <div class=\\\"info segment\\\">\\r\\n        <div class=\\\"ui flat tabular menu\\\">\\r\\n            <a class=\\\"item active\\\" data-tab=\\\"base\\\">基本信息</a>\\r\\n            <a class=\\\"item\\\" data-tab=\\\"volumn\\\">挂载点</a>\\r\\n            <a class=\\\"item\\\" data-tab=\\\"port\\\">端口映射</a>\\r\\n            <a class=\\\"item\\\" data-tab=\\\"env\\\">环境变量</a>\\r\\n            <a class=\\\"item\\\" data-tab=\\\"console\\\">终端</a>\\r\\n        </div>\\r\\n        <div class=\\\"ui flat tab active\\\" data-tab=\\\"base\\\">\\r\\n            <table class=\\\"ui table very basic\\\">\\r\\n                <tbody>\\r\\n                    <tr>\\r\\n                        <td>PID</td>\\r\\n                        <td>{{container.State.Pid}}</td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <td>主机名称</td>\\r\\n                        <td>{{container.Config.Hostname}}</td>\\r\\n                    </tr>  \\r\\n                    <tr>\\r\\n                        <td>工作目录</td>\\r\\n                        <td>{{container.Config.WorkingDir}}</td>\\r\\n                    </tr>  \\r\\n                    <tr>\\r\\n                        <td>创建时间</td>\\r\\n                        <td>{{container.Created}}</td>\\r\\n                    </tr>                    \\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n        <div class=\\\"ui flat tab\\\" data-tab=\\\"volumn\\\">\\r\\n            <table class=\\\"ui table very basic\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>容器路径</th>\\r\\n                        <th>主机路径</th>\\r\\n                        <th>只读</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr ng-repeat=\\\"mount in container.Mounts track by $index\\\">\\r\\n                        <td>{{mount.Destination.path}}</td>\\r\\n                        <td>{{mount.Source}}</td>\\r\\n                        <td>\\r\\n                            <div ng-switch disabled=\\\"true\\\" ng-model=\\\"mount.Mode\\\" ng-true-value=\\\"\\'ro\\'\\\" ng-false-value=\\\"\\'rw\\'\\\"></div>\\r\\n                        </td>\\r\\n                    </tr>                    \\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n        <div class=\\\"ui flat tab\\\" data-tab=\\\"port\\\">\\r\\n            <table class=\\\"ui table very basic\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>容器端口</th>\\r\\n                        <th>主机端口</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr ng-repeat=\\\"(key, port) in container.NetworkSettings.Ports track by $index\\\">\\r\\n                        <td>{{key}}</td>\\r\\n                        <td>{{port[0].HostIp}}:{{port[0].HostPort}}</td>\\r\\n                    </tr>                    \\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n        <div class=\\\"ui flat tab\\\" data-tab=\\\"env\\\">\\r\\n            <table class=\\\"ui table very basic\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>键</th>\\r\\n                        <th>值</th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr ng-repeat=\\\"env in container.Config.Env track by $index\\\">\\r\\n                        <td>{{env.split(\\\"=\\\")[0]}}</td>\\r\\n                        <td>{{env.split(\\\"=\\\")[1]}}</td>\\r\\n                    </tr>                    \\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n        <div class=\\\"ui flat tab\\\" data-tab=\\\"console\\\">\\r\\n            <div class=\\\"ui button primary\\\" ng-click=\\\"openConsole()\\\">打开</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/tpls/pages/container/list.tpl.html\",\"<div class=\\\"app-containers\\\">\\r\\n    <table class=\\\"ui table\\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th>ID</th>\\r\\n                <th>名称</th>\\r\\n                <th>镜像</th>\\r\\n                <th>状态</th>\\r\\n                <th>操作</th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr ng-repeat=\\\"container in containers | orderBy:\\'Created\\' track by $index\\\">\\r\\n                <td>\\r\\n                    <a ui-sref=\\\"containerDetail({id: container.Id})\\\">{{container.Id | limitTo : 12}}</a>\\r\\n                </td>\\r\\n                <td>\\r\\n                    {{container.Names[0]}}\\r\\n                </td>\\r\\n                <td>     \\r\\n                    {{container.Image}}\\r\\n                </td>\\r\\n                <td>     \\r\\n                    <div class=\\\"ui mini label\\\" ng-class=\\\"{\\'running\\':\\'green\\', \\'exited\\':\\'red\\'}[container.State]\\\">{{\\'containers.\\' + container.State|translate}}</div><br>\\r\\n                    <span class=\\\"small\\\">{{\\'containers.\\' + container.Status|translate}}</span>\\r\\n                </td>\\r\\n                <td class=\\\"action\\\">\\r\\n                    <button ng-if=\\\"container.State==\\'exited\\'\\\" ng-click=\\\"remove(container)\\\" class=\\\"inline mini compact ui button orange\\\">移除</button>\\r\\n                    <div class=\\\"inline\\\">\\r\\n                        <span ng-switch disabled=\\\"{\\'changing\\': true}[container.State]\\\" ng-before-change=\\\"switch($event, container)\\\" ng-data=\\\"container\\\" ng-model=\\\"container.State\\\" ng-true-value=\\\"\\'running\\'\\\" ng-false-value=\\\"\\'exited\\'\\\"></span>\\r\\n                    </div>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n\");}]);"],"sourceRoot":"/source/"}