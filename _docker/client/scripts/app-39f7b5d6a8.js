!function(){"use strict";window.ngApp=angular.module("dockress",["ngCookies","ngResource","ngSanitize","ui.router","toastr","pascalprecht.translate","ngWebSocket","ngDialog","highcharts-ng","ngMaterial"]),ngApp.run(["$log",function(n){"ngInject";n.debug("已经启动！")}])}(),function(){"use strict";ngApp.config(["$provide","$logProvider","$translateProvider","toastrConfig",function(n,t,e,r){"ngInject";var i={};i.SVR_URL={base:"http://ct.home:180/api",ws:"ws://ct.home:180/ws"},n.value("CONF",i),t.debugEnabled(!0),r.allowHtml=!0,r.timeOut=3e3,r.positionClass="toast-top-right",r.preventDuplicates=!0,r.progressBar=!0;var a=window.localStorage.lang||"zh_CN";e.preferredLanguage(a),e.useSanitizeValueStrategy("escape"),e.useStaticFilesLoader({prefix:"/i18n/",suffix:".json"}),e.useMissingTranslationHandler("regexTranslationHandler")}])}(),function(){"use strict";ngApp.config(["$locationProvider","$stateProvider","$urlRouterProvider",function(n,t,e){"ngInject";t.state("overview",{url:"/",templateUrl:"app/tpls/pages/overview.tpl.html",controller:"overviewCtrl"}).state("image",{url:"/image",templateUrl:"app/tpls/pages/image/list.tpl.html",controller:"imageListCtrl"}).state("registrys",{url:"/registrys",templateUrl:"app/tpls/pages/registrys.tpl.html",controller:"registrysCtrl"}).state("nodes",{url:"/nodes",templateUrl:"app/tpls/pages/nodes.tpl.html",controller:"nodesCtrl"}).state("container",{url:"/container",templateUrl:"app/tpls/pages/container/list.tpl.html",controller:"containerListCtrl"}).state("containerDetail",{url:"/container/{id}",templateUrl:"app/tpls/pages/container/detail.tpl.html",controller:"containerDetailCtrl"}).state("containerCreate",{url:"/container/create/{imageId}",templateUrl:"app/tpls/pages/container/create.tpl.html",controller:"containerCreateCtrl"}),e.otherwise("/")}])}(),function(){"use strict";ngApp.controller("containerConsoleCtrl",["$scope","$filter","$element","CONF","dockerApiSvr","containerSvr",function(n,t,e,r,i,a){"ngInject";function s(t){n.tabs.push(t),e.find(".tabular.menu > .item").tab()}var o=n.containerId;n.isMax=!1,n.tabs=[];var c=0;n.add=function(){n.isMax||(s({id:"exec-"+c,label:"Exec"+c,content:"Exec"+c,start:!0,execUrl:r.SVR_URL.ws+"/exec/"+o+"/bash"}),c++,c>=5&&(n.isMax=!0))},n.attachUrl=r.SVR_URL.ws+"/attach/"+o,n.attachStart=!0,n.logUrl=r.SVR_URL.ws+"/log/"+o,n.logStart=!0,e.find(".tabular.menu > .item").tab()}])}(),function(){"use strict";function n(n){var t=/^\d+$/;return t.test(n.port)&&t.test(n.hostPort)?!0:!1}function t(n){return"undefined"!=typeof n.name&&"undefined"!=typeof n.value?!0:!1}function e(n){return"undefined"!=typeof n.hostPath&&"undefined"!=typeof n.path&&"boolean"==typeof n.readOnly?!0:!1}ngApp.controller("containerCreateCtrl",["$scope","$stateParams","$element","$websocket","dockerApiSvr","containerSvr",function(r,i,a,s,o,c){"ngInject";function l(){o.images_inspect(r.imageId,function(n){r.image=n.data;for(var t in r.image.Config.ExposedPorts){var e=t.split("/");d({protocol:e[1],port:parseInt(e[0]),hostPort:void 0})}for(var t in r.image.Config.Volumes){u({pathHost:void 0,path:t,readOnly:!1})}for(var t in r.image.Config.Env){var i=r.image.Config.Env[t].split("=");p({name:i[0],value:i[1]})}console.log(r.image)})}function d(n){r.containerCreateVo.portBindings.push(n)}function u(n){r.containerCreateVo.binds.push(n)}function p(n){r.containerCreateVo.envs.push(n)}var v=r.imageId=i.imageId;r.containerCreateVo={imageId:v,portBindings:[],envs:[],binds:[]},r.portBindingsValidate=function(){for(var t in r.containerCreateVo.portBindings){var e=r.containerCreateVo.portBindings[t];if(!n(e))return!1}return!0},r.addPortBinding=function(){r.portBindingsValidate()&&d({protocol:"tcp",port:void 0,hostPort:void 0})},r.removePortBinding=function(n){r.containerCreateVo.portBindings.splice(n,1)},r.envsValidate=function(){for(var n in r.containerCreateVo.envs){var e=r.containerCreateVo.envs[n];if(!t(e))return!1}return!0},r.addEnv=function(){r.envsValidate()&&p({name:void 0,value:void 0})},r.removeEnv=function(n){r.containerCreateVo.envs.splice(n,1)},r.bindsValidate=function(){for(var n in r.containerCreateVo.binds){var t=r.containerCreateVo.binds[n];if(!e(t))return!1}return!0},r.addBind=function(){r.bindsValidate()&&u({pathHost:void 0,path:void 0,readOnly:!1})},r.removeBind=function(n){r.containerCreateVo.binds.splice(n,1)},r.create=function(){c.create(r.containerCreateVo,function(n){console.log(n)})},l()}])}(),function(){"use strict";ngApp.controller("containerDetailCtrl",["$scope","$stateParams","$state","$filter","$element","$websocket","ngDialog","dockerApiSvr","containerSvr","CONF",function(n,t,e,r,i,a,s,o,c,l){"ngInject";function d(){o.containers_start(n.container.Id,function(n){p()})}function u(){o.containers_stop(n.container.Id,function(n){p()})}function p(){o.containers_inspect(n.containerId,function(t){n.container=t.data})}var v=n.containerId=t.id,g=l.SVR_URL.ws+"/stats/"+v,f=a(g),m=void 0;f.onMessage(function(t){m=c.countStats($.parseJSON(t.data),m),n.stats=m.stats}),n["switch"]=function(t){return"running"==n.container.State.Status?u():d(),n.container.State.Status="changing",!1},n.openConsole=function(){s.open({template:"app/tpls/dialogs/console.tpl.html",scope:n,width:"90%",closeByDocument:!1,closeByEscape:!1,className:"ngdialog-theme-plain"})},i.find(".tabular.menu > .item").tab(),p(),n.$on("$destroy",function(){m=void 0,f.close()})}])}(),function(){"use strict";ngApp.controller("containerListCtrl",["$scope","$element","dockerApiSvr","containerSvr",function(n,t,e,r){"ngInject";function i(n){e.containers_start(n.Id,function(n){s()})}function a(n){e.containers_stop(n.Id,function(n){s()})}function s(){e.containers(function(t){n.containers=t.data})}s(),n["switch"]=function(n,t){return"running"==t.State?a(t):i(t),t.State="changing",!1},n.remove=function(n){confirm("确定移除该容器吗？")&&r.remove(n.Id,function(n){s()})}}])}(),function(){"use strict";ngApp.controller("footerCtrl",["$scope","$location",function(n,t){"ngInject"}])}(),function(){"use strict";ngApp.controller("imageListCtrl",["$scope","$filter","dockerApiSvr",function(n,t,e){"ngInject";function r(){e.images(function(e){for(var r in e.data){var i=e.data[r];i.Id=t("limitTo")(i.Id,12,7)}n.images=e.data})}r()}])}(),function(){"use strict";ngApp.controller("navCtrl",["$scope","$location",function(n,t){"ngInject";n.isActive=function(n){return t.path().match(n)}}])}(),function(){"use strict";ngApp.controller("nodesCtrl",["$scope",function(n){"ngInject"}])}(),function(){"use strict";ngApp.controller("overviewCtrl",["$scope","dockerApiSvr",function(n,t){"ngInject";t.info(function(t){n.info=t,$(".overview .cpu .value").progress({percent:90})}),t.containers(function(t){n.containers=t.data})}])}(),function(){"use strict";ngApp.controller("registrysCtrl",["$scope","dockerApiSvr",function(n,t){"ngInject";n.images=[{star_count:1,is_official:!1,name:"cokappcharlie/aria2",is_trusted:!0,is_automated:!0,description:"aria2 in docker"},{star_count:1,is_official:!1,name:"cokapp/cokwiki",is_trusted:!1,is_automated:!1,description:"CokWiki是运行于Node平台的类Wiki程序"}],n.search=function(){var e={limit:50};n.term?e.term=n.term:e.filters={"is-official":!0},t.images_search(e,function(t){n.images=t})},n.create=function(n){var e={};e.fromImage=n,t.images_create(e,function(n){console.log(n)})}}])}(),function(){"use strict";ngApp.directive("ngEnter",function(){"ngInject";return function(n,t,e){t.bind("keydown keypress",function(t){13===t.which&&(n.$apply(function(){n.$eval(e.ngEnter)}),t.preventDefault())})}})}(),function(){"use strict";ngApp.directive("includeReplace",function(){"ngInject";return{require:"ngInclude",restrict:"A",link:function(n,t,e){t.replaceWith(t.children())}}})}(),function(){"use strict";ngApp.directive("ngSwitch",["$websocket",function(n){"ngInject";return{restrict:"EA",replace:!0,transclude:!0,scope:{ngModel:"=",ngData:"=",disabled:"=",ngTrueValue:"=",ngFalseValue:"=",ngBeforeChange:"&?",ngAfterChange:"&?"},template:function(n,t){var e='<span class="switch" ng-click="onClick($event)" ng-class="{checked: checked, disabled: disabled}"><small></small><input type="checkbox" ng-model="'+t.ngModel+'" style="display:none" /></span>';return e},link:function(n,t,e){n.onClick=function(t){n.disabled||(!n.ngBeforeChange||n.ngBeforeChange(t,n.ngData))&&(r(),i(),n.ngAfterChange&&n.ngAfterChange(t,n.ngData))},n.$watch("ngModel",function(){i()});var r=function(){n.ngModel=n.ngModel==n.ngTrueValue?n.ngFalseValue:n.ngTrueValue},i=function(){n.checked=n.ngModel==n.ngTrueValue?!0:!1};i()}}}])}(),function(){"use strict";ngApp.directive("ngTerm",["$websocket",function(n){"ngInject";return{restrict:"EA",scope:{url:"=",logs:"@",stdin:"@",start:"="},template:'<div class="ng-term"></div>',replace:!1,link:function(t,e,r){var i=!1,a=function(){var r=new Terminal({cols:100,rows:15,convertEol:!0,useStyle:!0,cursorBlink:!0,screenKeys:!0}),a=n(t.url);a.onMessage(function(n){r.write(n.data)}),a.onClose(function(){r.destroy()}),a.send("\n"),r.open(e.find(".ng-term")[0]),r.on("data",function(n){a.send(n)}),e.on("$destroy",function(){r.destroy()}),i=!0};if(t.start&&a(),!i)var s=t.$watch("start",function(){t.start&&(a(),s())})}}}])}(),function(){"use strict";ngApp.filter("FileSize",function(){"ngInject";return function(n,t,e,r){if(isNaN(parseFloat(n))||!isFinite(n)||0==n)return"-";"undefined"==typeof t&&(t=1),"undefined"==typeof e&&(e=1024),"undefined"==typeof r&&(r=!1);var i=Math.floor(Math.log(n)/Math.log(e)),a=["bytes","kB","MB","GB","TB","PB"];return r&&(a=["<sub>bytes</sub>","<sub>kB</sub>","<sub>MB</sub>","<sub>GB</sub>","<sub>TB</sub>","<sub>PB</sub>"]),(n/Math.pow(e,Math.floor(i))).toFixed(t)+" "+a[i]}})}(),function(){"use strict";ngApp.filter("T",["$translate",function(n){"ngInject";return function(t){return t?n.instant(t)|t:void 0}}])}(),function(){"use strict";ngApp.filter("trustHtml",["$sce",function(n){"ngInject";return function(t){return n.trustAsHtml(t)}}])}(),function(){"use strict";ngApp.factory("containerSvr",["$rootScope","$http","CONF","utilSvr","$filter",function(n,t,e,r,i){"ngInject";function a(n){var t=n.overview;t.cpu_use=n.cpu_stats.cpu_usage.total_usage-n.precpu_stats.cpu_usage.total_usage,t.cpu_sys=n.cpu_stats.system_cpu_usage-n.precpu_stats.system_cpu_usage,t.cpu_percent=100*t.cpu_use/t.cpu_sys;var e=$.extend(!0,{},v);e.title.text='<div class="chart-title"><strong>'+i("number")(t.cpu_percent,2)+"<sub> %</sub></strong><p>CPU使用率<span></p>",e.series[0].data[0].y=t.cpu_use,e.series[0].data[1].y=t.cpu_sys-t.cpu_use,t.cpu_percent_chart=e}function s(n){var t=n.overview;t.memory_percent=100*n.memory_stats.usage/n.memory_stats.limit;var e=$.extend(!0,{},v);e.title.text='<div class="chart-title"><strong>'+i("FileSize")(n.memory_stats.usage,1,1e3,!0)+"</strong><p>内存使用量<span></p>",e.series[0].data[0].y=n.memory_stats.usage,e.series[0].data[1].y=n.memory_stats.limit-n.memory_stats.usage,t.memory_percent_chart=e}function o(n,t){if(!(t.getRealSize()<=1)){var e=n.overview,r=$.extend(!0,{},t.first()),i=$.extend(!0,{},t.last()),a=c(r),s=c(i),o=Date.parse(i.read)-Date.parse(r.read);e.networks_read=i.read,e.networks_up_speed=1e3*(s[0]-a[0])/o,e.networks_down_speed=1e3*(s[1]-a[1])/o,e.networks_up=s[0],e.networks_down=s[1];var d=Date.parse(e.networks_read),u=5,p=$.extend(!0,t.stats.overview.networks_speed_chart,g);l(p.series[0].data,u,d,e.networks_up_speed),l(p.series[1].data,u,d,e.networks_down_speed),e.networks_speed_chart=p}}function c(n){var t=[0,0];for(var e in n.networks){var r=n.networks[e];t[0]+=r.tx_bytes,t[1]+=r.rx_bytes}return t}function l(n,t,e,r){for(;n.length<t;)n.push({x:e-1e3*(t-n.length),y:0});n.length==t&&n.shift(),n.push({x:e,y:r})}var d=e.SVR_URL.base,u={};u.countStats=function(n,t){return"undefined"==typeof t&&(t=p.create(8)),t.add(n),t.count()},u.create=function(n,e){var r=d+"/containers/create",i=t({method:"POST",url:r,data:n});i.success(function(n){e(n)})},u.remove=function(n,e){var r=d+"/containers/"+n+"/remove",i=t({method:"GET",url:r});i.success(function(n){e(n)})};var p={create:function(n){var t=r.Queue.create(n);return t.count=function(){t.stats=t.stats||{overview:{}};var n=$.extend(!0,t.stats,t.last());return a(n),s(n),o(n,t),t},t}},v={options:{chart:{type:"pie",spacing:[0,0,0,0],margin:[0,0,0,0],height:160,backgroundColor:"transparent",events:{}},tooltip:{enabled:!1},plotOptions:{series:{animation:!1,dataLabels:{enabled:!1},enableMouseTracking:!1},pie:{borderWidth:0}},credits:{enabled:!1},exporting:{enabled:!1}},title:{useHTML:!0,text:"",align:"center",verticalAlign:"middle"},series:[{type:"pie",name:"datas",innerSize:"90%",data:[{name:"data1",y:0,color:"#5EA3F8"},{name:"data2",y:1,color:"#CCC"}]}]},g={options:{chart:{type:"line",animation:Highcharts.svg,height:160,backgroundColor:"transparent",events:{}},title:{text:null},legend:{floating:!0,align:"right",verticalAlign:"top",labelFormatter:function(){return this.name}},tooltip:{enabled:!1},plotOptions:{series:{animation:!1,dataLabels:{enabled:!1},enableMouseTracking:!1},line:{lineWidth:1}},credits:{enabled:!1},exporting:{enabled:!1}},xAxis:{type:"datetime"},yAxis:{title:{text:"网络带宽"}},series:[{name:"发送",data:[]},{name:"接收",data:[]}]};return u}])}(),function(){"use strict";ngApp.factory("dockerApiSvr",["$rootScope","$http","CONF",function(n,t,e){"ngInject";var r=e.SVR_URL.base;n.cancelEvent=function(n){console.log("cancelEvent");var n=n||window.event;return n.preventDefault&&n.preventDefault(),n.returnValue&&(n.returnValue=!1),!1};var i={};return i.info=function(n){var e=r+"/info",i=t({method:"GET",url:e});i.success(function(t){n(t)})},i.containers=function(n){var e=r+"/containers/json",i=t({method:"GET",url:e});i.success(function(t){n(t)})},i.containers_start=function(n,e){var i=r+"/containers/"+n+"/start",a=t({method:"POST",url:i});a.success(function(n){e(n)})},i.containers_stop=function(n,e){var i=r+"/containers/"+n+"/stop",a=t({method:"POST",url:i});a.success(function(n){e(n)})},i.containers_inspect=function(n,e){var i=r+"/containers/"+n+"/json",a=t({method:"GET",url:i});a.success(function(n){e(n)})},i.exec_start=function(n,e){var i=r+"/exec/"+n+"/start",a=t({method:"POST",url:i,headers:{"Content-Type":"application/json"},data:{Detach:!1,Tty:!0}});a.success(function(n){e(n)})},i.images=function(n){var e=r+"/images/json",i=t({method:"GET",url:e});i.success(function(t){n(t)})},i.images_search=function(n,e){var i=r+"/images/search",a=t({method:"GET",url:i,params:n});a.success(function(n){e(n)})},i.images_create=function(n,e){var i=r+"/images/create",a=t({method:"POST",url:i,data:n});a.success(function(n){e(n)})},i.images_inspect=function(n,e){var i=r+"/images/"+n+"/json",a=t({method:"GET",url:i});a.success(function(n){e(n)})},i}])}(),function(){"use strict";ngApp.factory("regexTranslationHandler",["$translate",function(n){"ngInject";return function(t){var e=t,r=n.getTranslationTable();for(var i in r){var a=new RegExp(i).exec(t);if(null!=a){e=r[i];for(var s=1;s<a.length;s++)e=e.replace("{{"+s+"}}",a[s])}}return e}}])}(),function(){"use strict";ngApp.factory("utilSvr",["$rootScope","$http","CONF",function(n,t,e){"ngInject";var r={};return r.Queue={create:function(n){var t=new Array,e=0,r={};return r.add=function(i){e>=n&&r.remove(),t[e]=i,e++},r.remove=function(){return t.length>0?(e--,t.shift()):void 0},r.first=function(){return t.length>0?t[0]:void 0},r.last=function(){return t[e-1]},r.getAll=function(){return t},r.getSize=function(){return n},r.getRealSize=function(){return e},r}},r}])}(),angular.module("dockress").run(["$templateCache",function(n){n.put("app/tpls/dialogs/console.tpl.html",'<div class="app-dialog-console" ng-controller="containerConsoleCtrl">   \r\n    <md-tabs md-selected="selectedIndex" md-autoselect>\r\n        <md-tab label="Attach">\r\n            <div>\r\n                <div>\r\n                    <div ng-term url="attachUrl" start="attachStart"></div>\r\n                </div>\r\n            </div>\r\n        </md-tab>\r\n        <md-tab label="Log">\r\n            <div>\r\n                <div>\r\n                    <div ng-term url="logUrl" start="logStart"></div>\r\n                </div>\r\n            </div>\r\n        </md-tab>            \r\n        <md-tab ng-repeat="tab in tabs" label="{{tab.label}}">\r\n            <div>\r\n                <div ng-term url="tab.execUrl" start="tab.start"></div>\r\n            </div>\r\n        </md-tab>\r\n\r\n\r\n\r\n        <md-tab label="增加" ng-click="add()" ng-disabled="isMax">\r\n        </md-tab>\r\n    </md-tabs>\r\n</div>\r\n'),n.put("app/tpls/pages/nodes.tpl.html",'<div class="container pages">\r\n\r\nnodes\r\n\r\n\r\n</div>'),n.put("app/tpls/pages/overview.tpl.html",'<div class="container pages overview">\r\n    <div class="ui grid usage">\r\n        <div class="eight wide column">\r\n            <div class="cpu clearfix">\r\n                <div class="left">\r\n                </div>\r\n                <div class="right">\r\n                    <div class="title">CPU使用率</div>\r\n                    <div class="value">{{info.NFd}}</div>\r\n                    <div class="ui tiny progress">\r\n                        <div class="bar"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="eight wide column">\r\n            <div class="ram clearfix">\r\n                <div class="left">\r\n                </div>\r\n                <div class="right">\r\n                    <div class="title">内存使用率</div>\r\n                    <div class="value">{{info.MemTotal}}</div>\r\n                    <div class="ui tiny progress">\r\n                        <div class="bar"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="ui grid containers">\r\n        <div class="four wide column" ng-repeat="container in containers | orderBy:\'Created\'">\r\n            <div class="container">\r\n                <h1>{{container.Names[0]}}</h1>\r\n                <p>{{container.Status}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),n.put("app/tpls/pages/registrys.tpl.html",'<div class="container text pages registrys">\r\n    <div class="search-wrapper">\r\n        <div class="ui icon input fluid">\r\n            <input ng-enter="search()" class="prompt" ng-model="term" type="text" placeholder="{{\'registrys.search_images\'|translate}}">\r\n            <i ng-click="search()" class="search icon"></i>\r\n        </div>\r\n    </div>\r\n    <table class="ui large table">\r\n        <thead>\r\n            <tr>\r\n                <th>名称</th>\r\n                <th>认证</th>\r\n                <th>描述</th>\r\n                <th>操作</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr ng-repeat="image in images | orderBy:\'star_count\'">\r\n                <td>\r\n                    <div class="ui label">\r\n                        {{image.name}}\r\n                    </div>\r\n                </td>\r\n                <td class="certificate">\r\n                    <i class="iconfont icon-trusted" ng-class="{active: image.is_trusted}"></i>\r\n                    <i class="iconfont icon-official" ng-class="{active: image.is_official}"></i>\r\n                </td>\r\n                <td>\r\n                    {{image.description}}\r\n                </td>\r\n                <td>\r\n                    <button class="ui primary button" ng-click="create(image.name)">\r\n                        {{\'registrys.pull\'|translate}}\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n'),n.put("app/tpls/public/footer.tpl.html",'<div ng-controller="footerCtrl">\r\n\r\n</div>\r\n'),n.put("app/tpls/public/header.tpl.html",'<div class="app-header">\r\n    <div class="ui left icon input fluid">\r\n        <input class="search prompt" type="text" placeholder="{{\'header.search\'|translate}}">\r\n        <i class="search icon"></i>\r\n    </div>\r\n</div>\r\n'),n.put("app/tpls/public/sidebar.tpl.html",'<div class="app-sidebar" ng-controller="navCtrl">\r\n    <div class="logo">\r\n        Dockress\r\n    </div>\r\n    <ul class="nav-vertical">\r\n        <li class="item" ng-class="{active :isActive(\'^/$\')}"><a ui-sref="overview"><i class="dashboard layout icon"></i> {{\'header.overview\'|translate}}</a></li>\r\n        <li class="item" ng-class="{active :isActive(\'/container\')}"><a ui-sref="container"><i class="cubes icon"></i> {{\'header.containers\'|translate}}</a></li>\r\n        <li class="item" ng-class="{active :isActive(\'/image\')}"><a ui-sref="image"><i class="database icon"></i> {{\'header.images\'|translate}}</a></li>\r\n        <li class="item" ng-class="{active :isActive(\'/registrys\')}"><a ui-sref="registrys"><i class="cloud icon"></i> {{\'header.registrys\'|translate}}</a></li>\r\n        <li class="item" ng-class="{active :isActive(\'/nodes\')}"><a ui-sref="nodes"><i class="sitemap icon"></i> {{\'header.nodes\'|translate}}</a></li>\r\n    </ul>\r\n</div>\r\n'),n.put("app/tpls/pages/image/list.tpl.html",'<div class="container text pages images">\r\n    <div class="toolbar">\r\n        <button class="ui labeled icon primary button">\r\n            <i class="refresh icon"></i> {{\'images.refresh\'|translate}}\r\n        </button>\r\n        <button class="ui labeled icon primary button">\r\n            <i class="cloud download icon"></i> {{\'images.pull\'|translate}}\r\n        </button>\r\n    </div>\r\n    <table class="ui large table">\r\n        <thead>\r\n            <tr>\r\n                <th>ID</th>\r\n                <th>名称</th>\r\n                <th>创建时间</th>\r\n                <th>占用空间</th>\r\n                <th>操作</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr ng-repeat="image in images | orderBy:\'Created\'">\r\n                <td>\r\n                    {{image.Id}}\r\n                </td>\r\n                <td>\r\n                    <div class="ui label">\r\n                        {{image.RepoTags[0]}}\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    {{image.Created * 1000 | date:\'yyyy-MM-dd HH:mm:ss Z\'}}\r\n                </td>\r\n                <td>\r\n                    <span>{{image.VirtualSize | FileSize}}</span>\r\n                </td>\r\n                <td>\r\n                    <button  ui-sref="containerCreate({imageId: image.Id})" class="ui primary button">\r\n                        启动\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n'),n.put("app/tpls/pages/container/console.tpl.html",'<div class="app-container-console">\r\n    <div class="console segment">\r\n        <div class="ui flat tabular menu">\r\n            <a class="item active" data-tab="attach">Attach</a>\r\n            <a class="item">增加</a>\r\n        </div>\r\n        <div class="ui flat tab active" data-tab="attach">\r\n        <div ng-term url="attachUrl" start="attachStart"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),n.put("app/tpls/pages/container/create.tpl.html",'<div class="app-container-create">\r\n    <div class="head">\r\n        <i class="cubes icon"></i> <strong>启动容器{{imageId}}</strong>\r\n        <br> {{containerCreateVo}}\r\n    </div>\r\n    <div class="ui grid">\r\n        <div class="eight wide column">\r\n            <h4>基础设置</h4>\r\n            <section class="name">\r\n                <div class="ui form">\r\n                    <div class="field">\r\n                        <label>名称</label>\r\n                        <input type="text" ng-model="containerCreateVo.name">\r\n                    </div>\r\n                    <div class="field">\r\n                        <label>执行命令</label>\r\n                        <input type="text" ng-model="containerCreateVo.cmd">\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n        <div class="eight wide column">\r\n            <h4>端口绑定</h4>\r\n            <section class="port-bindings">\r\n                <div class="ui form">\r\n                    <table class="ui table">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>容器端口</th>\r\n                                <th>主机端口</th>\r\n                                <th>协议</th>\r\n                                <th>操作</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr ng-repeat="portBinding in containerCreateVo.portBindings track by $index">\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <input type="number" step="1" ng-model="portBinding.port"></input>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <input type="number" step="1" ng-model="portBinding.hostPort"></input>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <select class="ui fluid dropdown" ng-model="portBinding.protocol">\r\n                                            <option value="tcp">TCP</option>\r\n                                            <option value="udp">UDP</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="ui button orange" ng-click="removePortBinding($index)">移除</div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class="ui button fluid primary" ng-class="{disabled: !portBindingsValidate()}" ng-click="addPortBinding()">添加服务端口</div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n        <div class="eight wide column">\r\n            <h4>挂载点</h4>\r\n            <section class="binds">\r\n                <div class="ui form">\r\n                    <table class="ui table">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>容器路径</th>\r\n                                <th>主机路径</th>\r\n                                <th>只读</th>\r\n                                <th>操作</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr ng-repeat="bind in containerCreateVo.binds track by $index">\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <input type="text" ng-model="bind.path"></input>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <input type="text" ng-model="bind.hostPath"></input>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <div ng-switch ng-model="bind.readOnly" ng-true-value="true" ng-false-value="false"></div>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="ui button orange" ng-click="removeBind($index)">移除</div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class="ui button fluid primary" ng-class="{disabled: !bindsValidate()}" ng-click="addBind()">添加卷映射</div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n        <div class="eight wide column">\r\n            <h4>环境变量</h4>\r\n            <section class="env">\r\n                <div class="ui form">\r\n                    <table class="ui table">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>名称</th>\r\n                                <th>值</th>\r\n                                <th>操作</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr ng-repeat="env in containerCreateVo.envs track by $index">\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <input type="text" ng-model="env.name"></input>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <input type="text" ng-model="env.value"></input>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="ui button orange" ng-click="removeEnv($index)">移除</div>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class="ui button fluid primary" ng-class="{disabled: !envsValidate()}" ng-click="addEnv()">添加环境变量</div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n        <div class="sixteen wide column">\r\n            <div class="ui button fluid primary" ng-class="{disabled: !envsValidate() || !portBindingsValidate() || !bindsValidate()}" ng-click="create()">提交</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),n.put("app/tpls/pages/container/detail.tpl.html",'<div class="app-container-detail">\r\n    <div class="head">\r\n        <i class="cubes icon"></i> <strong>{{container.Name}}</strong>\r\n    </div>\r\n    <div class="overview segment">\r\n        <ul class="clearfix">\r\n            <li class="item status">\r\n                <div>\r\n                    <strong ng-class="{\'running\':\'green\', \'exited\':\'red\'}[container.State.Status]">\r\n                        <i class="iconfont"  ng-class="{\'running\':\'icon-right\', \'exited\':\'icon-error\'}[container.State.Status]"></i> \r\n                        {{\'container.detail.\' + container.State.Status|translate}}\r\n                    </strong>\r\n                    <span>容器状态</span>\r\n                    <div>\r\n                        <div ng-switch ng-before-change="switch($event)" ng-model="container.State.Status" ng-true-value="\'running\'" ng-false-value="\'exited\'"></div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n            <li class="item cpu">\r\n                <highchart ng-if="stats.overview.cpu_percent_chart" config="stats.overview.cpu_percent_chart"></highchart>\r\n            </li>\r\n            <li class="item ram">\r\n                <highchart ng-if="stats.overview.memory_percent_chart" config="stats.overview.memory_percent_chart"></highchart>\r\n            </li>\r\n            <li class="item net">\r\n                <highchart ng-if="stats.overview.networks_speed_chart" config="stats.overview.networks_speed_chart"></highchart>\r\n            </li>\r\n            <li class="item net-total">\r\n                <div ng-if="stats.overview.networks_down">\r\n                    <div>\r\n                        <p ng-bind-html="stats.overview.networks_down | FileSize:2:1000:true"></p>\r\n                        <span>网络吞吐 ( 接收 )</span>\r\n                    </div>\r\n                    <hr />\r\n                    <div>\r\n                        <p ng-bind-html="stats.overview.networks_up | FileSize:2:1000:true"></p>\r\n                        <span>网络吞吐 ( 发送 )</span>\r\n                    </div>              \r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="info segment">\r\n        <div class="ui flat tabular menu">\r\n            <a class="item active" data-tab="base">基本信息</a>\r\n            <a class="item" data-tab="volumn">挂载点</a>\r\n            <a class="item" data-tab="port">端口映射</a>\r\n            <a class="item" data-tab="env">环境变量</a>\r\n            <a class="item" data-tab="console">终端</a>\r\n        </div>\r\n        <div class="ui flat tab active" data-tab="base">\r\n            <table class="ui table very basic">\r\n                <tbody>\r\n                    <tr>\r\n                        <td>PID</td>\r\n                        <td>{{container.State.Pid}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>主机名称</td>\r\n                        <td>{{container.Config.Hostname}}</td>\r\n                    </tr>  \r\n                    <tr>\r\n                        <td>工作目录</td>\r\n                        <td>{{container.Config.WorkingDir}}</td>\r\n                    </tr>  \r\n                    <tr>\r\n                        <td>创建时间</td>\r\n                        <td>{{container.Created}}</td>\r\n                    </tr>                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class="ui flat tab" data-tab="volumn">\r\n            <table class="ui table very basic">\r\n                <thead>\r\n                    <tr>\r\n                        <th>容器路径</th>\r\n                        <th>主机路径</th>\r\n                        <th>只读</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr ng-repeat="mount in container.Mounts track by $index">\r\n                        <td>{{mount.Destination.path}}</td>\r\n                        <td>{{mount.Source}}</td>\r\n                        <td>\r\n                            <div ng-switch disabled="true" ng-model="mount.Mode" ng-true-value="\'ro\'" ng-false-value="\'rw\'"></div>\r\n                        </td>\r\n                    </tr>                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class="ui flat tab" data-tab="port">\r\n            <table class="ui table very basic">\r\n                <thead>\r\n                    <tr>\r\n                        <th>容器端口</th>\r\n                        <th>主机端口</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr ng-repeat="(key, port) in container.NetworkSettings.Ports track by $index">\r\n                        <td>{{key}}</td>\r\n                        <td>{{port[0].HostIp}}:{{port[0].HostPort}}</td>\r\n                    </tr>                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class="ui flat tab" data-tab="env">\r\n            <table class="ui table very basic">\r\n                <thead>\r\n                    <tr>\r\n                        <th>键</th>\r\n                        <th>值</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr ng-repeat="env in container.Config.Env track by $index">\r\n                        <td>{{env.split("=")[0]}}</td>\r\n                        <td>{{env.split("=")[1]}}</td>\r\n                    </tr>                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class="ui flat tab" data-tab="console">\r\n            <div class="ui button primary" ng-click="openConsole()">打开</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),
n.put("app/tpls/pages/container/list.tpl.html",'<div class="app-containers">\r\n    <table class="ui table">\r\n        <thead>\r\n            <tr>\r\n                <th>ID</th>\r\n                <th>名称</th>\r\n                <th>镜像</th>\r\n                <th>状态</th>\r\n                <th>操作</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr ng-repeat="container in containers | orderBy:\'Created\' track by $index">\r\n                <td>\r\n                    <a ui-sref="containerDetail({id: container.Id})">{{container.Id | limitTo : 12}}</a>\r\n                </td>\r\n                <td>\r\n                    {{container.Names[0]}}\r\n                </td>\r\n                <td>     \r\n                    {{container.Image}}\r\n                </td>\r\n                <td>     \r\n                    <div class="ui mini label" ng-class="{\'running\':\'green\', \'exited\':\'red\'}[container.State]">{{\'containers.\' + container.State|translate}}</div><br>\r\n                    <span class="small">{{\'containers.\' + container.Status|translate}}</span>\r\n                </td>\r\n                <td class="action">\r\n                    <button ng-if="container.State==\'exited\'" ng-click="remove(container)" class="inline mini compact ui button orange">移除</button>\r\n                    <div class="inline">\r\n                        <span ng-switch disabled="{\'changing\': true}[container.State]" ng-before-change="switch($event, container)" ng-data="container" ng-model="container.State" ng-true-value="\'running\'" ng-false-value="\'exited\'"></span>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n')}]);
//# sourceMappingURL=../maps/scripts/app-39f7b5d6a8.js.map
